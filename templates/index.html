<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ReviewGuard ‚Äì AI-Powered Review Analysis Platform</title>
  
  <!-- Chart.js - Lazy loaded when needed -->
  <script>
    let chartJsLoaded = false;
    function loadChartJS() {
      return new Promise((resolve, reject) => {
        if (chartJsLoaded) {
          resolve();
          return;
        }
        const script = document.createElement('script');
        script.src = 'https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.js';
        script.onload = () => {
          chartJsLoaded = true;
          resolve();
        };
        script.onerror = reject;
        document.head.appendChild(script);
      });
    }
  </script>
  
  <style>
    /* ==================== CSS VARIABLES ==================== */
    :root {
      --bg-primary: #ffffff;
      --bg-secondary: #f8f9fa;
      --bg-tertiary: #e9ecef;
      --text-primary: #1a1a2e;
      --text-secondary: #6c757d;
      --text-tertiary: #adb5bd;
      --accent-primary: #667eea;
      --accent-secondary: #764ba2;
      --accent-tertiary: #f093fb;
      --accent-quaternary: #4facfe;
      --success: #10b981;
      --success-light: #d1fae5;
      --warning: #f59e0b;
      --warning-light: #fef3c7;
      --danger: #ef4444;
      --danger-light: #fee2e2;
      --info: #3b82f6;
      --info-light: #dbeafe;
      --card-bg: rgba(255, 255, 255, 0.9);
      --card-border: rgba(0, 0, 0, 0.08);
      --glass-bg: rgba(255, 255, 255, 0.7);
      --glass-border: rgba(255, 255, 255, 0.18);
      --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.1);
      --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.1);
      --shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.1);
      --shadow-xl: 0 20px 25px rgba(0, 0, 0, 0.1);
      --shadow-glow: 0 0 60px rgba(102, 126, 234, 0.4);
      --transition-smooth: cubic-bezier(0.4, 0, 0.2, 1);
      --transition-spring: cubic-bezier(0.34, 1.56, 0.64, 1);
      --transition-bounce: cubic-bezier(0.68, -0.55, 0.265, 1.55);
    }

    [data-theme="dark"] {
      --bg-primary: #0f0f23;
      --bg-secondary: #1a1a2e;
      --bg-tertiary: #16213e;
      --text-primary: #e9ecef;
      --text-secondary: #adb5bd;
      --text-tertiary: #6c757d;
      --accent-primary: #7c3aed;
      --accent-secondary: #a78bfa;
      --accent-tertiary: #c084fc;
      --accent-quaternary: #60a5fa;
      --success: #34d399;
      --success-light: #064e3b;
      --warning: #fbbf24;
      --warning-light: #78350f;
      --danger: #f87171;
      --danger-light: #7f1d1d;
      --info: #60a5fa;
      --info-light: #1e3a8a;
      --card-bg: rgba(26, 26, 46, 0.9);
      --card-border: rgba(255, 255, 255, 0.1);
      --glass-bg: rgba(26, 26, 46, 0.7);
      --glass-border: rgba(255, 255, 255, 0.1);
      --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.5);
      --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.5);
      --shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.5);
      --shadow-xl: 0 20px 25px rgba(0, 0, 0, 0.5);
      --shadow-glow: 0 0 60px rgba(124, 58, 237, 0.4);
    }

    /* ==================== RESET & BASE ==================== */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html {
      scroll-behavior: smooth;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
      background: var(--bg-primary);
      color: var(--text-primary);
      line-height: 1.6;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      overflow-x: hidden;
      transition: background 0.5s var(--transition-smooth);
      position: relative;
    }

    body::before {
      content: '';
      position: fixed;
      inset: 0;
      background: 
        radial-gradient(circle at 20% 30%, rgba(102, 126, 234, 0.15) 0%, transparent 50%),
        radial-gradient(circle at 80% 70%, rgba(118, 75, 162, 0.15) 0%, transparent 50%),
        radial-gradient(circle at 50% 50%, rgba(240, 147, 251, 0.1) 0%, transparent 60%);
      animation: gradientShift 20s ease infinite;
      pointer-events: none;
      z-index: -1;
      will-change: transform, opacity;
    }

    [data-theme="dark"] body::before {
      background: 
        radial-gradient(circle at 20% 30%, rgba(124, 58, 237, 0.2) 0%, transparent 50%),
        radial-gradient(circle at 80% 70%, rgba(167, 139, 250, 0.2) 0%, transparent 50%),
        radial-gradient(circle at 50% 50%, rgba(192, 132, 252, 0.15) 0%, transparent 60%);
    }

    @keyframes gradientShift {
      0%, 100% { opacity: 1; transform: scale(1) rotate(0deg); }
      50% { opacity: 0.8; transform: scale(1.1) rotate(5deg); }
    }

    ::selection {
      background: var(--accent-primary);
      color: white;
    }

    /* ==================== TOAST NOTIFICATIONS ==================== */
    .toast-container {
      position: fixed;
      top: 90px;
      right: 20px;
      z-index: 10000;
      display: flex;
      flex-direction: column;
      gap: 12px;
      max-width: 400px;
    }

    .toast {
      background: var(--card-bg);
      backdrop-filter: blur(20px);
      border: 1px solid var(--card-border);
      border-radius: 16px;
      padding: 16px 20px;
      box-shadow: var(--shadow-xl);
      display: flex;
      align-items: center;
      gap: 12px;
      animation: slideInRight 0.4s var(--transition-spring);
      min-width: 300px;
    }

    @keyframes slideInRight {
      from { opacity: 0; transform: translateX(100px); }
      to { opacity: 1; transform: translateX(0); }
    }

    .toast-icon {
      font-size: 24px;
      flex-shrink: 0;
    }

    .toast-content {
      flex: 1;
    }

    .toast-title {
      font-weight: 600;
      margin-bottom: 4px;
      font-size: 15px;
    }

    .toast-message {
      font-size: 13px;
      color: var(--text-secondary);
      line-height: 1.4;
    }

    .toast-close {
      background: none;
      border: none;
      cursor: pointer;
      font-size: 18px;
      padding: 4px;
      color: var(--text-tertiary);
      transition: color 0.2s;
    }

    .toast-close:hover {
      color: var(--text-primary);
    }

    .toast.success { border-left: 4px solid var(--success); }
    .toast.error { border-left: 4px solid var(--danger); }
    .toast.info { border-left: 4px solid var(--info); }
    .toast.warning { border-left: 4px solid var(--warning); }

    /* ==================== NAVBAR ==================== */
    .navbar {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 1000;
      background: var(--glass-bg);
      backdrop-filter: saturate(180%) blur(20px);
      -webkit-backdrop-filter: saturate(180%) blur(20px);
      border-bottom: 1px solid var(--glass-border);
      transition: all 0.3s var(--transition-smooth);
    }

    .navbar.scrolled {
      box-shadow: var(--shadow-lg);
      background: var(--card-bg);
    }

    .nav-container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 0 2rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      height: 70px;
    }

    .nav-brand {
      display: flex;
      align-items: center;
      gap: 12px;
      font-size: 24px;
      font-weight: 700;
      color: var(--text-primary);
      text-decoration: none;
      transition: transform 0.3s var(--transition-spring);
    }

    .nav-brand:hover {
      transform: translateY(-2px);
    }

    .nav-brand-icon {
      font-size: 32px;
      animation: float 3s ease-in-out infinite;
      will-change: transform;
    }

    @keyframes float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-5px); }
    }

    .nav-menu {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .nav-link {
      padding: 10px 20px;
      border-radius: 12px;
      font-weight: 500;
      color: var(--text-secondary);
      text-decoration: none;
      transition: all 0.3s var(--transition-smooth);
      font-size: 15px;
      cursor: pointer;
      background: none;
      border: none;
      font-family: inherit;
    }

    .nav-link:hover, .nav-link.active {
      color: var(--accent-primary);
      background: var(--glass-bg);
    }

    .theme-toggle {
      background: var(--glass-bg);
      border: 1px solid var(--glass-border);
      padding: 10px;
      border-radius: 12px;
      cursor: pointer;
      font-size: 20px;
      transition: all 0.3s var(--transition-spring);
      display: flex;
      align-items: center;
      justify-content: center;
      width: 44px;
      height: 44px;
      margin-left: 8px;
    }

    .theme-toggle:hover {
      background: var(--accent-primary);
      transform: rotate(15deg) scale(1.1);
      box-shadow: var(--shadow-glow);
    }

    /* ==================== TABS SYSTEM ==================== */
    .tabs-container {
      background: var(--bg-secondary);
      padding: 100px 0 40px;
    }

    .tabs-wrapper {
      max-width: 1400px;
      margin: 0 auto;
      padding: 0 2rem;
    }

    .tabs-nav {
      display: flex;
      gap: 12px;
      margin-bottom: 40px;
      background: var(--glass-bg);
      padding: 8px;
      border-radius: 16px;
      border: 1px solid var(--glass-border);
      flex-wrap: wrap;
    }

    .tab-button {
      flex: 1;
      min-width: 150px;
      padding: 16px 24px;
      border: none;
      background: transparent;
      color: var(--text-secondary);
      font-weight: 600;
      font-size: 15px;
      border-radius: 12px;
      cursor: pointer;
      transition: all 0.3s var(--transition-smooth);
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      font-family: inherit;
    }

    .tab-button:hover {
      background: var(--card-bg);
      color: var(--text-primary);
    }

    .tab-button.active {
      background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
      color: white;
      box-shadow: var(--shadow-md);
    }

    .tab-content {
      display: none;
      animation: fadeIn 0.5s var(--transition-smooth);
    }

    .tab-content.active {
      display: block;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    /* ==================== HERO SECTION ==================== */
    .hero {
      min-height: 90vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 140px 2rem 80px;
      position: relative;
      overflow: hidden;
    }

    .hero-content {
      max-width: 1200px;
      text-align: center;
      position: relative;
      z-index: 1;
    }

    .hero-badge {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 10px 24px;
      background: var(--glass-bg);
      backdrop-filter: blur(10px);
      border: 1px solid var(--glass-border);
      border-radius: 50px;
      font-size: 14px;
      font-weight: 600;
      color: var(--accent-primary);
      margin-bottom: 32px;
      animation: fadeInDown 0.8s var(--transition-smooth) 0.2s backwards;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    @keyframes fadeInDown {
      from { opacity: 0; transform: translateY(-30px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .hero-title {
      font-size: clamp(48px, 8vw, 80px);
      font-weight: 800;
      line-height: 1.1;
      margin-bottom: 24px;
      background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary), var(--accent-tertiary));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      animation: fadeInUp 0.8s var(--transition-smooth) 0.4s backwards;
      letter-spacing: -0.02em;
    }

    @keyframes fadeInUp {
      from { opacity: 0; transform: translateY(30px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .hero-subtitle {
      font-size: clamp(18px, 3vw, 24px);
      color: var(--text-secondary);
      margin-bottom: 48px;
      max-width: 700px;
      margin-left: auto;
      margin-right: auto;
      animation: fadeInUp 0.8s var(--transition-smooth) 0.6s backwards;
      line-height: 1.6;
    }

    .hero-cta {
      display: flex;
      gap: 16px;
      justify-content: center;
      flex-wrap: wrap;
      animation: fadeInUp 0.8s var(--transition-smooth) 0.8s backwards;
    }

    /* ==================== BUTTON STYLES ==================== */
    .btn {
      padding: 16px 32px;
      border-radius: 14px;
      font-size: 16px;
      font-weight: 600;
      border: none;
      cursor: pointer;
      transition: all 0.3s var(--transition-smooth);
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      gap: 8px;
      position: relative;
      overflow: hidden;
      font-family: inherit;
    }

    .btn::before {
      content: '';
      position: absolute;
      inset: 0;
      background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.3), transparent);
      transform: translateX(-100%);
      transition: transform 0.6s;
    }

    .btn:hover::before {
      transform: translateX(100%);
    }

    .btn-primary {
      background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
      color: white;
      box-shadow: var(--shadow-lg);
    }

    .btn-primary:hover {
      transform: translateY(-3px);
      box-shadow: var(--shadow-glow);
    }

    .btn-secondary {
      background: var(--glass-bg);
      backdrop-filter: blur(10px);
      color: var(--text-primary);
      border: 1px solid var(--glass-border);
    }

    .btn-secondary:hover {
      background: var(--card-bg);
      transform: translateY(-3px);
      box-shadow: var(--shadow-md);
    }

    .btn-sm {
      padding: 10px 20px;
      font-size: 14px;
    }

    /* ==================== STATS CARDS ==================== */
    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 24px;
      margin-bottom: 40px;
    }

    .stat-card {
      background: var(--glass-bg);
      backdrop-filter: blur(20px);
      border: 1px solid var(--glass-border);
      border-radius: 20px;
      padding: 32px 24px;
      text-align: center;
      transition: all 0.4s var(--transition-smooth);
      position: relative;
      overflow: hidden;
    }

    .stat-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(90deg, var(--accent-primary), var(--accent-secondary), var(--accent-tertiary));
      transform: scaleX(0);
      transition: transform 0.6s var(--transition-smooth);
    }

    .stat-card:hover {
      transform: translateY(-8px);
      box-shadow: var(--shadow-xl);
    }

    .stat-card:hover::before {
      transform: scaleX(1);
    }

    .stat-icon {
      font-size: 40px;
      margin-bottom: 12px;
    }

    .stat-number {
      font-size: clamp(36px, 5vw, 48px);
      font-weight: 800;
      background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-bottom: 8px;
      display: block;
      line-height: 1;
    }

    .stat-label {
      font-size: 14px;
      color: var(--text-secondary);
      font-weight: 500;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    /* ==================== ANALYZER CARD ==================== */
    .analyzer-card {
      background: var(--card-bg);
      backdrop-filter: blur(20px);
      border: 1px solid var(--card-border);
      border-radius: 24px;
      padding: 48px;
      box-shadow: var(--shadow-xl);
      position: relative;
      overflow: hidden;
    }

    .form-group {
      margin-bottom: 28px;
      position: relative;
      z-index: 1;
    }

    .form-label {
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 15px;
      font-weight: 600;
      margin-bottom: 10px;
      color: var(--text-primary);
    }

    .form-input {
      width: 100%;
      padding: 16px 20px;
      border-radius: 14px;
      border: 2px solid var(--card-border);
      background: var(--glass-bg);
      font-size: 15px;
      font-family: inherit;
      color: var(--text-primary);
      transition: all 0.3s var(--transition-smooth);
    }

    .form-input:focus {
      outline: none;
      border-color: var(--accent-primary);
      box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.1);
      background: var(--bg-primary);
    }

    textarea.form-input {
      min-height: 140px;
      resize: vertical;
      line-height: 1.6;
    }

    .form-hint {
      font-size: 13px;
      color: var(--text-secondary);
      margin-top: 6px;
      line-height: 1.4;
    }

    .quick-actions {
      display: flex;
      gap: 12px;
      margin-bottom: 32px;
      flex-wrap: wrap;
    }

    .quick-btn {
      flex: 1;
      min-width: 180px;
      padding: 14px 20px;
      border-radius: 12px;
      border: 2px solid var(--card-border);
      background: var(--glass-bg);
      font-size: 14px;
      font-weight: 600;
      color: var(--text-primary);
      cursor: pointer;
      transition: all 0.3s var(--transition-smooth);
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      font-family: inherit;
    }

    .quick-btn:hover {
      border-color: var(--accent-primary);
      background: var(--accent-primary);
      color: white;
      transform: translateY(-2px);
      box-shadow: var(--shadow-md);
    }

    .advanced-content {
      display: none;
      background: var(--glass-bg);
      border: 2px solid var(--card-border);
      border-radius: 18px;
      padding: 28px;
      margin-bottom: 28px;
      animation: slideDown 0.4s var(--transition-smooth);
    }

    @keyframes slideDown {
      from { opacity: 0; transform: translateY(-20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .advanced-content.show {
      display: block;
    }

    .advanced-hint {
      display: flex;
      align-items: flex-start;
      gap: 12px;
      padding: 14px;
      background: var(--info-light);
      border-radius: 10px;
      margin-bottom: 20px;
      font-size: 14px;
      color: var(--text-primary);
      line-height: 1.5;
    }

    .loading-overlay {
      display: none;
      position: relative;
      padding: 50px;
      text-align: center;
    }

    .loading-overlay.show {
      display: block;
    }

    .spinner {
      width: 50px;
      height: 50px;
      margin: 0 auto 20px;
      border: 4px solid var(--card-border);
      border-top-color: var(--accent-primary);
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    .loading-text {
      font-size: 16px;
      color: var(--text-secondary);
      font-weight: 500;
    }

    .result-container {
      display: none;
      margin-top: 40px;
      animation: fadeInUp 0.6s var(--transition-smooth);
    }

    .result-container.show {
      display: block;
    }

    .result-box {
      background: var(--card-bg);
      border: 2px solid var(--card-border);
      border-radius: 24px;
      padding: 40px;
      position: relative;
      overflow: hidden;
    }

    .result-box::before {
      content: '';
      position: absolute;
      inset: 0;
      opacity: 0.03;
      pointer-events: none;
    }

    .result-box.legit {
      border-color: var(--success);
    }

    .result-box.legit::before {
      background: radial-gradient(circle at center, var(--success) 0%, transparent 70%);
    }

    .result-box.fake {
      border-color: var(--danger);
    }

    .result-box.fake::before {
      background: radial-gradient(circle at center, var(--danger) 0%, transparent 70%);
    }

    .result-header {
      display: flex;
      align-items: center;
      gap: 20px;
      margin-bottom: 28px;
    }

    .result-icon {
      font-size: 56px;
      animation: scaleIn 0.5s var(--transition-bounce);
    }

    @keyframes scaleIn {
      from { transform: scale(0); opacity: 0; }
      to { transform: scale(1); opacity: 1; }
    }

    .result-title-group h3 {
      font-size: 28px;
      font-weight: 800;
      margin-bottom: 6px;
      color: var(--text-primary);
    }

    .result-subtitle {
      font-size: 15px;
      color: var(--text-secondary);
    }

    .confidence-section {
      margin-bottom: 28px;
    }

    .confidence-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 14px;
    }

    .confidence-label {
      font-size: 15px;
      font-weight: 600;
      color: var(--text-secondary);
    }

    .confidence-value {
      font-size: 32px;
      font-weight: 800;
      background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .confidence-bar {
      height: 14px;
      background: var(--bg-secondary);
      border-radius: 50px;
      overflow: hidden;
      position: relative;
    }

    .confidence-fill {
      height: 100%;
      background: linear-gradient(90deg, var(--accent-primary), var(--accent-secondary), var(--accent-tertiary));
      border-radius: 50px;
      transition: width 1.5s var(--transition-smooth);
      position: relative;
      overflow: hidden;
      will-change: width;
    }

    .confidence-fill::after {
      content: '';
      position: absolute;
      inset: 0;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
      animation: shimmer 2s infinite;
    }

    @keyframes shimmer {
      from { transform: translateX(-100%); }
      to { transform: translateX(100%); }
    }

    .risk-badge {
      display: inline-block;
      padding: 8px 18px;
      border-radius: 50px;
      font-size: 12px;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.8px;
      margin-top: 14px;
    }

    .risk-low {
      background: var(--success-light);
      color: var(--success);
    }

    .risk-medium {
      background: var(--warning-light);
      color: var(--warning);
    }

    .risk-high {
      background: var(--danger-light);
      color: var(--danger);
    }

    .result-details {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      gap: 20px;
      margin-top: 28px;
      padding-top: 28px;
      border-top: 2px solid var(--card-border);
    }

    .detail-item {
      text-align: center;
      padding: 18px;
      background: var(--glass-bg);
      border-radius: 14px;
      border: 1px solid var(--card-border);
      transition: transform 0.3s;
    }

    .detail-item:hover {
      transform: translateY(-3px);
    }

    .detail-label {
      font-size: 13px;
      color: var(--text-secondary);
      margin-bottom: 6px;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      font-weight: 600;
    }

    .detail-value {
      font-size: 24px;
      font-weight: 800;
      color: var(--text-primary);
    }

    .insights-section {
      margin-top: 28px;
      padding: 28px;
      background: var(--glass-bg);
      border-radius: 18px;
      border: 2px solid var(--card-border);
    }

    .insights-title {
      font-size: 18px;
      font-weight: 700;
      margin-bottom: 18px;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .insight-item {
      display: flex;
      align-items: flex-start;
      gap: 12px;
      padding: 14px;
      background: var(--bg-primary);
      border-radius: 10px;
      margin-bottom: 10px;
      transition: transform 0.3s var(--transition-smooth);
    }

    .insight-item:hover {
      transform: translateX(5px);
    }

    .insight-icon {
      font-size: 18px;
      flex-shrink: 0;
    }

    .insight-text {
      flex: 1;
      line-height: 1.5;
      color: var(--text-secondary);
      font-size: 14px;
    }

    .keyword-section {
      margin-top: 28px;
      padding: 28px;
      background: var(--glass-bg);
      border-radius: 18px;
      border: 2px solid var(--card-border);
    }

    .keyword-title {
      font-size: 18px;
      font-weight: 700;
      margin-bottom: 18px;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .keyword-cloud {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }

    .keyword-tag {
      padding: 8px 16px;
      background: var(--danger-light);
      color: var(--danger);
      border-radius: 50px;
      font-size: 13px;
      font-weight: 600;
      border: 1px solid var(--danger);
      transition: transform 0.2s;
    }

    .keyword-tag:hover {
      transform: scale(1.05);
    }

    .keyword-tag.legit {
      background: var(--success-light);
      color: var(--success);
      border-color: var(--success);
    }

    .export-section {
      margin-top: 28px;
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
    }

    /* ==================== DASHBOARD/ANALYTICS ==================== */
    .dashboard-grid {
      display: grid;
      gap: 24px;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    }

    .chart-card {
      background: var(--card-bg);
      border: 1px solid var(--card-border);
      border-radius: 20px;
      padding: 28px;
      box-shadow: var(--shadow-md);
    }

    .chart-header {
      margin-bottom: 20px;
    }

    .chart-title {
      font-size: 18px;
      font-weight: 700;
      margin-bottom: 6px;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .chart-subtitle {
      font-size: 13px;
      color: var(--text-secondary);
    }

    .chart-container {
      position: relative;
      height: 250px;
    }

    /* ==================== HISTORY ==================== */
    .history-section {
      margin-top: 40px;
    }

    .history-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 24px;
      flex-wrap: wrap;
      gap: 16px;
    }

    .history-title {
      font-size: 22px;
      font-weight: 700;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .history-actions {
      display: flex;
      gap: 12px;
    }

    .history-search {
      padding: 10px 16px;
      border-radius: 10px;
      border: 2px solid var(--card-border);
      background: var(--glass-bg);
      font-size: 14px;
      color: var(--text-primary);
      width: 200px;
      font-family: inherit;
    }

    .history-search:focus {
      outline: none;
      border-color: var(--accent-primary);
    }

    .history-list {
      display: grid;
      gap: 14px;
    }

    .history-item {
      background: var(--glass-bg);
      border: 1px solid var(--card-border);
      border-radius: 14px;
      padding: 18px;
      display: flex;
      gap: 16px;
      align-items: flex-start;
      transition: all 0.3s var(--transition-smooth);
      cursor: pointer;
    }

    .history-item:hover {
      transform: translateX(5px);
      box-shadow: var(--shadow-md);
      border-color: var(--accent-primary);
    }

    .history-icon {
      font-size: 28px;
      flex-shrink: 0;
    }

    .history-content {
      flex: 1;
    }

    .history-text {
      font-size: 14px;
      color: var(--text-primary);
      margin-bottom: 8px;
      line-clamp: 2;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
      display: -webkit-box;
    }

    .history-meta {
      display: flex;
      gap: 12px;
      font-size: 12px;
      color: var(--text-secondary);
      flex-wrap: wrap;
    }

    .history-empty {
      text-align: center;
      padding: 60px 20px;
      color: var(--text-secondary);
      font-size: 16px;
    }

    /* ==================== FOOTER ==================== */
    footer {
      background: var(--bg-secondary);
      padding: 60px 2rem 40px;
      border-top: 1px solid var(--card-border);
      margin-top: 60px;
    }

    .footer-container {
      max-width: 1400px;
      margin: 0 auto;
      text-align: center;
    }

    .footer-brand {
      font-size: 26px;
      font-weight: 800;
      margin-bottom: 14px;
      background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .footer-text {
      color: var(--text-secondary);
      line-height: 1.7;
      margin-bottom: 20px;
      font-size: 14px;
    }

    .footer-links {
      display: flex;
      justify-content: center;
      gap: 24px;
      flex-wrap: wrap;
      margin-bottom: 20px;
    }

    .footer-link {
      color: var(--text-secondary);
      text-decoration: none;
      font-weight: 500;
      transition: color 0.3s var(--transition-smooth);
      font-size: 14px;
    }

    .footer-link:hover {
      color: var(--accent-primary);
    }

    /* ==================== RESPONSIVE ==================== */
    @media (max-width: 768px) {
      .hero {
        padding: 120px 1rem 60px;
      }

      .nav-container {
        padding: 0 1rem;
      }

      .nav-link {
        display: none;
      }

      .tabs-wrapper {
        padding: 0 1rem;
      }

      .tab-button {
        min-width: 120px;
        padding: 12px 16px;
        font-size: 13px;
      }

      .analyzer-card {
        padding: 28px 20px;
      }

      .quick-actions {
        flex-direction: column;
      }

      .quick-btn {
        width: 100%;
      }

      .result-box {
        padding: 28px 20px;
      }

      .result-header {
        flex-direction: column;
        text-align: center;
      }

      .confidence-header {
        flex-direction: column;
        gap: 8px;
        text-align: center;
      }

      .toast-container {
        left: 20px;
        right: 20px;
        max-width: none;
      }

      .history-search {
        width: 100%;
      }
    }

    /* ==================== FLOATING ACTION BUTTON ==================== */
    .fab {
      position: fixed;
      bottom: 30px;
      right: 30px;
      width: 60px;
      height: 60px;
      border-radius: 50%;
      background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
      color: white;
      border: none;
      box-shadow: var(--shadow-glow);
      cursor: pointer;
      font-size: 24px;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s var(--transition-spring);
      z-index: 999;
    }

    .fab:hover {
      transform: scale(1.1) rotate(90deg);
      box-shadow: 0 0 80px rgba(102, 126, 234, 0.6);
    }

    /* ==================== CONFETTI ANIMATION ==================== */
    @keyframes confetti-fall {
      0% { transform: translateY(-100vh) rotate(0deg); opacity: 1; }
      100% { transform: translateY(100vh) rotate(720deg); opacity: 0; }
    }

    .confetti {
      position: fixed;
      width: 10px;
      height: 10px;
      z-index: 9999;
      pointer-events: none;
    }

    /* ==================== ACCESSIBILITY ==================== */
    @media (prefers-reduced-motion: reduce) {
      *, *::before, *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
      }
    }

    :focus-visible {
      outline: 3px solid var(--accent-primary);
      outline-offset: 3px;
    }
  </style>
</head>
<body>

  <div class="toast-container" id="toastContainer"></div>

  <nav class="navbar">
    <div class="nav-container">
      <a href="#" class="nav-brand" onclick="App.utils.scrollToTop()">
        <span class="nav-brand-icon">üõ°Ô∏è</span>
        ReviewGuard
      </a>
      <div class="nav-menu">
        <button class="nav-link" onclick="App.tabs.switch('analyze')">Analyze</button>
        <button class="nav-link" onclick="App.tabs.switch('analytics')">Analytics</button>
        <button class="nav-link" onclick="App.tabs.switch('history')">History</button>
        <button class="theme-toggle" id="themeToggle" aria-label="Toggle theme">
          <span id="themeIcon">üåô</span>
        </button>
      </div>
    </div>
  </nav>

  <section class="hero">
    <div class="hero-content">
      <div class="hero-badge">
        <span>‚ú®</span>
        <span>Next-Gen AI Detection</span>
      </div>
      <h1 class="hero-title">Ultimate Review<br>Analysis Platform</h1>
      <p class="hero-subtitle">
        Advanced AI-powered analysis with batch processing, visual analytics, pattern detection, and comprehensive reporting.
      </p>
      <div class="hero-cta">
        <button class="btn btn-primary" onclick="App.utils.scrollToAnalyzer()">
          üöÄ Start Analyzing
        </button>
        <button class="btn btn-secondary" onclick="App.examples.load('suspicious')">
          Try Demo
        </button>
      </div>
    </div>
  </section>

  <section class="tabs-container">
    <div class="tabs-wrapper">
      <div class="tabs-nav">
        <button class="tab-button active" data-tab="analyze">
          <span>üîç</span>
          <span>Analyze Review</span>
        </button>
        <button class="tab-button" data-tab="analytics">
          <span>üìà</span>
          <span>Analytics Dashboard</span>
        </button>
        <button class="tab-button" data-tab="history">
          <span>üìú</span>
          <span>History</span>
        </button>
      </div>

      <div class="tab-content active" data-content="analyze">
        <div class="stats-grid">
          <div class="stat-card">
            <div class="stat-icon">üìä</div>
            <span class="stat-number" id="totalReviews">0</span>
            <div class="stat-label">Reviews Analyzed</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">üö®</div>
            <span class="stat-number" id="fakeCount">0</span>
            <div class="stat-label">Fake Detected</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">‚úÖ</div>
            <span class="stat-number" id="legitCount">0</span>
            <div class="stat-label">Legitimate</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">üéØ</div>
            <span class="stat-number" id="accuracyRate">94</span>
            <div class="stat-label">Accuracy Rate</div>
          </div>
        </div>

        <div class="analyzer-card">
          <div class="quick-actions">
            <button class="quick-btn" onclick="App.examples.load('suspicious')">
              üö® Suspicious Example
            </button>
            <button class="quick-btn" onclick="App.examples.load('legit')">
              ‚úÖ Legitimate Example
            </button>
            <button class="quick-btn" onclick="App.form.clear()">
              üóëÔ∏è Clear Form
            </button>
          </div>

          <div class="form-group">
            <label class="form-label">
              <span>üìù</span>
              <span>Review Text</span>
            </label>
            <textarea 
              id="reviewText" 
              class="form-input" 
              placeholder="Paste the review text here..."
            ></textarea>
          </div>

          <div class="form-group">
            <label class="form-label">
              <span>‚≠ê</span>
              <span>Rating (1-5)</span>
            </label>
            <input 
              type="number" 
              id="rating" 
              class="form-input" 
              min="1" 
              max="5" 
              step="0.1" 
              value="3"
            >
          </div>

          <button class="btn btn-secondary" style="width: 100%; margin-bottom: 20px;" onclick="App.form.toggleAdvanced()">
            ‚öôÔ∏è <span id="advancedToggleText">Show Advanced Options</span>
          </button>

          <div id="advancedOptions" class="advanced-content">
            <div class="advanced-hint">
              <span>üí°</span>
              <span>Adding reviewer context improves accuracy by analyzing behavioral patterns!</span>
            </div>

            <div class="form-group">
              <label class="form-label">
                <span>üìö</span>
                <span>Reviewer's Total Reviews</span>
              </label>
              <input 
                type="number" 
                id="totalReviewsInput" 
                class="form-input" 
                min="1" 
                max="1000" 
                value="1"
              >
              <p class="form-hint">
                Fake reviewers typically have 5-20 reviews.
              </p>
            </div>

            <div class="form-group">
              <label class="form-label">
                <span>‚≠ê</span>
                <span>Reviewer's Average Rating</span>
              </label>
              <input 
                type="number" 
                id="avgRating" 
                class="form-input" 
                min="1" 
                max="5" 
                step="0.1" 
                value="4.0"
              >
              <p class="form-hint">
                Fake reviewers often only give 1‚òÖ or 5‚òÖ ratings.
              </p>
            </div>
          </div>

          <button class="btn btn-primary" onclick="App.analyzer.analyze()" style="width: 100%; padding: 20px; font-size: 18px;">
            üîç Analyze Review
          </button>

          <div id="loadingOverlay" class="loading-overlay">
            <div class="spinner"></div>
            <p class="loading-text">Analyzing patterns...</p>
          </div>

          <div id="resultContainer" class="result-container">
            <div id="resultBox" class="result-box">
              <div class="result-header">
                <div class="result-icon" id="resultIcon">‚úÖ</div>
                <div class="result-title-group">
                  <h3 id="resultTitle">Review Looks Legitimate</h3>
                  <p class="result-subtitle" id="resultSubtitle">Based on AI analysis</p>
                </div>
              </div>

              <div class="confidence-section">
                <div class="confidence-header">
                  <span class="confidence-label">Confidence Score</span>
                  <span class="confidence-value"><span id="confidenceValue">0</span>%</span>
                </div>
                <div class="confidence-bar">
                  <div id="confidenceFill" class="confidence-fill" style="width: 0%"></div>
                </div>
                <div>
                  <span id="riskBadge" class="risk-badge risk-low">LOW RISK</span>
                </div>
              </div>

              <div class="result-details">
                <div class="detail-item">
                  <div class="detail-label">Fake Probability</div>
                  <div class="detail-value" id="fakeProbability">0%</div>
                </div>
                <div class="detail-item">
                  <div class="detail-label">Legit Probability</div>
                  <div class="detail-value" id="legitProbability">0%</div>
                </div>
              </div>

              <div class="insights-section">
                <h4 class="insights-title">
                  <span>üîç</span>
                  <span>Detection Insights</span>
                </h4>
                <div id="insightsList"></div>
              </div>

              <div class="keyword-section">
                <h4 class="keyword-title">
                  <span>üè∑Ô∏è</span>
                  <span>Key Patterns Detected</span>
                </h4>
                <div id="keywordCloud" class="keyword-cloud"></div>
              </div>

              <div class="export-section">
                <button class="btn btn-secondary btn-sm" onclick="App.export.result('json')">
                  üìÑ Export JSON
                </button>
                <button class="btn btn-secondary btn-sm" onclick="App.export.result('csv')">
                  üìä Export CSV
                </button>
                <button class="btn btn-secondary btn-sm" onclick="App.export.share()">
                  üîó Share Result
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="tab-content" data-content="analytics">
        <div class="analyzer-card" style="margin-bottom: 24px;">
          <h2 style="font-size: 28px; margin-bottom: 12px;">Analytics Dashboard</h2>
          <p style="color: var(--text-secondary); margin-bottom: 20px;">
            Visual insights into your review analysis history and patterns.
          </p>
        </div>

        <div class="dashboard-grid">
          <div class="chart-card">
            <div class="chart-header">
              <h3 class="chart-title">
                <span>üìä</span>
                <span>Detection Rate</span>
              </h3>
              <p class="chart-subtitle">Fake vs Legitimate reviews</p>
            </div>
            <div class="chart-container">
              <canvas id="detectionChart"></canvas>
            </div>
          </div>

          <div class="chart-card">
            <div class="chart-header">
              <h3 class="chart-title">
                <span>üìà</span>
                <span>Confidence Scores</span>
              </h3>
              <p class="chart-subtitle">Distribution of confidence levels</p>
            </div>
            <div class="chart-container">
              <canvas id="confidenceChart"></canvas>
            </div>
          </div>

          <div class="chart-card" style="grid-column: span 2;">
            <div class="chart-header">
              <h3 class="chart-title">
                <span>üìÖ</span>
                <span>Analysis Timeline</span>
              </h3>
              <p class="chart-subtitle">Reviews analyzed over time</p>
            </div>
            <div class="chart-container">
              <canvas id="timelineChart"></canvas>
            </div>
          </div>
        </div>
      </div>

      <div class="tab-content" data-content="history">
        <div class="history-section">
          <div class="history-header">
            <h3 class="history-title">
              <span>üìú</span>
              <span>Analysis History</span>
            </h3>
            <div class="history-actions">
              <input 
                type="text" 
                class="history-search" 
                id="historySearch" 
                placeholder="üîç Search history..."
                oninput="App.history.search()"
              >
              <button class="btn btn-secondary btn-sm" onclick="App.history.clear()">
                üóëÔ∏è Clear All
              </button>
            </div>
          </div>
          <div id="historyList" class="history-list">
            <div class="history-empty">
              <p>üì≠ No analysis history yet.<br>Start analyzing reviews to build your history!</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <footer>
    <div class="footer-container">
      <div class="footer-brand">ReviewGuard</div>
      <p class="footer-text">
        Next-generation AI-powered fake review detection platform<br>
        Built with Machine Learning ‚Ä¢ Chart.js ‚Ä¢ scikit-learn
      </p>
      <div class="footer-links">
        <a href="https://github.com/iamlakshyamittal/ReviewGuard" target="_blank" class="footer-link">GitHub</a>
        <a href="#" class="footer-link">Documentation</a>
        <a href="#" class="footer-link">API</a>
        <a href="#" class="footer-link">Privacy</a>
      </div>
    </div>
  </footer>

  <button class="fab" onclick="App.utils.scrollToTop()" title="Back to top">‚Üë</button>

  <script>
    'use strict';

    const App = (() => {
      const CONFIG = {
        API_URL: 'http://127.0.0.1:5000/predict',
        API_TIMEOUT: 30000,
        API_RETRY_ATTEMPTS: 3,
        API_RETRY_DELAY: 1000,
        STORAGE_KEYS: {
          THEME: 'theme',
          STATS: 'reviewguard_stats',
          HISTORY: 'reviewguard_history'
        },
        LIMITS: {
          HISTORY_MAX: 50,
          REVIEW_MIN_LENGTH: 10,
          TOAST_DURATION: 5000
        },
        TOAST_ICONS: {
          success: '‚úÖ',
          error: '‚ùå',
          warning: '‚ö†Ô∏è',
          info: '‚ÑπÔ∏è'
        },
        KEYWORDS: {
          suspicious: ['AMAZING', 'BEST', 'MUST', '!!!', 'ORDER', 'NOW', 'LIFE', 'FOREVER', 'PERFECT'],
          legitimate: ['purchased', 'quality', 'satisfied', 'recommend', 'reasonable', 'works', 'delivered']
        }
      };

      const state = {
        currentResult: null,
        charts: {},
        apiCache: new Map(),
        theme: localStorage.getItem(CONFIG.STORAGE_KEYS.THEME) || 'light',
        domCache: {}
      };

      const dom = {
        cache: {},
        get(id) {
          if (!this.cache[id]) {
            this.cache[id] = document.getElementById(id);
          }
          return this.cache[id];
        },
        query(selector) {
          return document.querySelector(selector);
        },
        queryAll(selector) {
          return document.querySelectorAll(selector);
        }
      };

      const storage = {
        get(key) {
          try {
            const item = localStorage.getItem(key);
            return item ? JSON.parse(item) : null;
          } catch {
            return null;
          }
        },
        set(key, value) {
          try {
            localStorage.setItem(key, JSON.stringify(value));
            return true;
          } catch {
            return false;
          }
        },
        remove(key) {
          localStorage.removeItem(key);
        }
      };

      const validator = {
        reviewText(text) {
          if (!text || typeof text !== 'string') {
            return { valid: false, error: 'Please enter a review text' };
          }
          if (text.trim().length < CONFIG.LIMITS.REVIEW_MIN_LENGTH) {
            return { valid: false, error: `Review must be at least ${CONFIG.LIMITS.REVIEW_MIN_LENGTH} characters` };
          }
          return { valid: true };
        },
        rating(rating) {
          const num = Number(rating);
          if (isNaN(num) || num < 1 || num > 5) {
            return { valid: false, error: 'Rating must be between 1 and 5' };
          }
          return { valid: true };
        },
        sanitize(text) {
          return text.replace(/[<>]/g, '').trim();
        }
      };

      const api = {
        async request(endpoint, data, retries = CONFIG.API_RETRY_ATTEMPTS) {
          const cacheKey = JSON.stringify(data);
          if (state.apiCache.has(cacheKey)) {
            return state.apiCache.get(cacheKey);
          }

          const controller = new AbortController();
          const timeout = setTimeout(() => controller.abort(), CONFIG.API_TIMEOUT);

          try {
            const response = await fetch(endpoint, {
              method: 'POST',
              headers: { 'Content-Type': 'application/json' },
              body: JSON.stringify(data),
              signal: controller.signal
            });

            clearTimeout(timeout);

            if (!response.ok) {
              throw new Error(`HTTP ${response.status}: ${response.statusText}`);
            }

            const result = await response.json();
            state.apiCache.set(cacheKey, result);
            return result;

          } catch (error) {
            clearTimeout(timeout);

            if (retries > 0 && error.name !== 'AbortError') {
              await this.delay(CONFIG.API_RETRY_DELAY);
              return this.request(endpoint, data, retries - 1);
            }

            throw this.formatError(error);
          }
        },
        formatError(error) {
          if (error.name === 'AbortError') {
            return new Error('Request timeout. Please try again.');
          }
          if (error.message.includes('Failed to fetch')) {
            return new Error('Unable to connect to API. Ensure the server is running on http://127.0.0.1:5000');
          }
          return error;
        },
        delay(ms) {
          return new Promise(resolve => setTimeout(resolve, ms));
        }
      };

      const ui = {
        show(id) {
          dom.get(id)?.classList.add('show');
        },
        hide(id) {
          dom.get(id)?.classList.remove('show');
        },
        setText(id, text) {
          const el = dom.get(id);
          if (el) el.textContent = text;
        },
        setHTML(id, html) {
          const el = dom.get(id);
          if (el) el.innerHTML = html;
        },
        animateValue(id, start, end, duration) {
          const el = dom.get(id);
          if (!el) return;

          const range = end - start;
          if (range === 0) {
            el.textContent = end;
            return;
          }

          const increment = end > start ? 1 : -1;
          const stepTime = Math.abs(Math.floor(duration / range)) || 1;
          let current = start;

          const timer = setInterval(() => {
            current += increment;
            el.textContent = current;
            if (current === end) clearInterval(timer);
          }, stepTime);
        },
        scrollTo(selector, offset = 70) {
          const element = dom.query(selector);
          if (element) {
            const position = element.offsetTop - offset;
            window.scrollTo({ top: position, behavior: 'smooth' });
          }
        }
      };

      const toast = {
        show(title, message, type = 'info') {
          const container = dom.get('toastContainer');
          if (!container) return;

          const toast = document.createElement('div');
          toast.className = `toast ${type}`;
          toast.innerHTML = `
            <div class="toast-icon">${CONFIG.TOAST_ICONS[type]}</div>
            <div class="toast-content">
              <div class="toast-title">${title}</div>
              <div class="toast-message">${message}</div>
            </div>
            <button class="toast-close" onclick="this.parentElement.remove()">√ó</button>
          `;

          container.appendChild(toast);

          setTimeout(() => {
            toast.style.animation = 'slideInRight 0.4s reverse';
            setTimeout(() => toast.remove(), 400);
          }, CONFIG.LIMITS.TOAST_DURATION);
        }
      };

      const stats = {
        data: storage.get(CONFIG.STORAGE_KEYS.STATS) || { total: 0, fake: 0, legit: 0 },
        update(isFake) {
          this.data.total++;
          isFake ? this.data.fake++ : this.data.legit++;
          storage.set(CONFIG.STORAGE_KEYS.STATS, this.data);
          this.display();
        },
        display() {
          ui.animateValue('totalReviews', 0, this.data.total, 2000);
          ui.animateValue('fakeCount', 0, this.data.fake, 2000);
          ui.animateValue('legitCount', 0, this.data.legit, 2000);
        }
      };

      const theme = {
        init() {
          document.documentElement.setAttribute('data-theme', state.theme);
          ui.setText('themeIcon', state.theme === 'dark' ? '‚òÄÔ∏è' : 'üåô');
          dom.get('themeToggle')?.addEventListener('click', () => this.toggle());
        },
        toggle() {
          state.theme = state.theme === 'dark' ? 'light' : 'dark';
          document.documentElement.setAttribute('data-theme', state.theme);
          storage.set(CONFIG.STORAGE_KEYS.THEME, state.theme);
          ui.setText('themeIcon', state.theme === 'dark' ? '‚òÄÔ∏è' : 'üåô');

          if (tabs.current === 'analytics') {
            setTimeout(() => charts.init(), 100);
          }
        }
      };

      const tabs = {
        current: 'analyze',
        init() {
          dom.queryAll('.tab-button').forEach(btn => {
            btn.addEventListener('click', () => this.switch(btn.getAttribute('data-tab')));
          });
        },
        switch(tabName) {
          this.current = tabName;

          dom.queryAll('.tab-button').forEach(btn => btn.classList.remove('active'));
          dom.query(`[data-tab="${tabName}"]`)?.classList.add('active');

          dom.queryAll('.tab-content').forEach(content => content.classList.remove('active'));
          dom.query(`[data-content="${tabName}"]`)?.classList.add('active');

          if (tabName === 'analytics' && !state.charts.loaded) {
            loadChartJS().then(() => {
              charts.init();
              state.charts.loaded = true;
            }).catch(err => {
              console.error('Failed to load Chart.js:', err);
              toast.show('Error', 'Failed to load charts', 'error');
            });
          }

          toast.show('Navigation', `Switched to ${tabName} mode`, 'info');
        }
      };

      const form = {
        toggleAdvanced() {
          const content = dom.get('advancedOptions');
          const text = dom.get('advancedToggleText');
          const isShowing = content.classList.toggle('show');
          text.textContent = isShowing ? 'Hide Advanced Options' : 'Show Advanced Options';
        },
        clear() {
          dom.get('reviewText').value = '';
          dom.get('rating').value = 3;
          dom.get('totalReviewsInput').value = 1;
          dom.get('avgRating').value = 4.0;
          ui.hide('resultContainer');
          toast.show('Form Cleared', 'All fields have been reset', 'info');
        },
        getData() {
          return {
            reviewText: validator.sanitize(dom.get('reviewText').value),
            rating: Number(dom.get('rating').value),
            totalReviews: Number(dom.get('totalReviewsInput').value),
            avgRating: Number(dom.get('avgRating').value)
          };
        },
        validate(data) {
          const textCheck = validator.reviewText(data.reviewText);
          if (!textCheck.valid) return textCheck;

          const ratingCheck = validator.rating(data.rating);
          if (!ratingCheck.valid) return ratingCheck;

          return { valid: true };
        }
      };

      const examples = {
        data: {
          suspicious: {
            text: "AMAZING PRODUCT!!! This is the BEST thing I've ever bought in my ENTIRE LIFE!!! Everyone MUST buy this NOW!!! Don't even think twice! 100% recommend! Five stars all the way! You won't regret it! ORDER NOW!!! This changed my life FOREVER!!!",
            rating: 5,
            totalReviews: 12,
            avgRating: 4.9
          },
          legit: {
            text: "I purchased this product last month and have been using it regularly. The build quality is solid and it works as described in the listing. Setup was straightforward, though the instructions could be clearer. The price point is reasonable for what you get. Overall, I'm satisfied with my purchase and would recommend it to others looking for a reliable option in this category.",
            rating: 4,
            totalReviews: 47,
            avgRating: 3.8
          }
        },
        load(type) {
          const example = this.data[type];
          if (!example) return;

          dom.get('reviewText').value = example.text;
          dom.get('rating').value = example.rating;
          dom.get('totalReviewsInput').value = example.totalReviews;
          dom.get('avgRating').value = example.avgRating;

          dom.get('advancedOptions').classList.add('show');
          ui.setText('advancedToggleText', 'Hide Advanced Options');
          
          ui.hide('resultContainer');
          toast.show('Example Loaded', `${type} review loaded successfully`, 'success');
        }
      };

      const analyzer = {
        async analyze() {
          const formData = form.getData();
          const validation = form.validate(formData);

          if (!validation.valid) {
            toast.show('Validation Error', validation.error, 'error');
            return;
          }

          ui.hide('resultContainer');
          ui.show('loadingOverlay');

          try {
            const data = await api.request(CONFIG.API_URL, {
              review_text: formData.reviewText,
              rating: formData.rating,
              reviewer_total_reviews: formData.totalReviews,
              reviewer_avg_rating: formData.avgRating
            });

            ui.hide('loadingOverlay');

            state.currentResult = { ...data, reviewText: formData.reviewText };
            results.display(data, formData.reviewText);
            stats.update(data.is_fake);
            history.add(formData.reviewText, data);

            if (!data.is_fake) {
              effects.confetti();
            }

            toast.show(
              'Analysis Complete',
              data.is_fake ? 'Fake review detected!' : 'Review looks legitimate',
              data.is_fake ? 'warning' : 'success'
            );

          } catch (error) {
            ui.hide('loadingOverlay');
            toast.show('Error', error.message, 'error');
          }
        }
      };

      const results = {
        display(data, reviewText) {
          ui.show('resultContainer');

          const isFake = data.is_fake;
          const confidence = Math.round(data.confidence * 100);

          dom.get('resultBox').className = `result-box ${isFake ? 'fake' : 'legit'}`;
          ui.setText('resultIcon', isFake ? 'üö®' : '‚úÖ');
          ui.setText('resultTitle', isFake ? 'Fake Review Detected' : 'Review Looks Legitimate');
          ui.setText('resultSubtitle', isFake ? 'Suspicious patterns found' : 'Review appears authentic');

          dom.get('confidenceFill').style.width = '0%';
          ui.animateValue('confidenceValue', 0, confidence, 1500);
          setTimeout(() => {
            dom.get('confidenceFill').style.width = confidence + '%';
          }, 100);

          const riskLevel = data.risk_level.toLowerCase();
          const badge = dom.get('riskBadge');
          badge.className = `risk-badge risk-${riskLevel}`;
          badge.textContent = `${data.risk_level} RISK`;

          ui.setText('fakeProbability', Math.round(data.fake_probability * 100) + '%');
          ui.setText('legitProbability', Math.round(data.legitimate_probability * 100) + '%');

          this.generateInsights(data, reviewText);
          this.generateKeywords(reviewText, isFake);

          setTimeout(() => {
            dom.get('resultBox').scrollIntoView({ behavior: 'smooth', block: 'nearest' });
          }, 200);
        },
        generateInsights(data, reviewText) {
          const insights = [];
          const confidence = Math.round(data.confidence * 100);
          const text = reviewText.toUpperCase();

          if (data.is_fake) {
            if (confidence > 80) {
              insights.push({ icon: 'üéØ', text: 'High confidence detection based on multiple suspicious patterns.' });
            }
            if (/!!!|MUST|BEST|AMAZING/.test(text)) {
              insights.push({ icon: '‚ö†Ô∏è', text: 'Excessive capitalization and exclamation marks detected.' });
            }
            if (reviewText.length < 50) {
              insights.push({ icon: 'üìè', text: 'Review is unusually short with limited detail.' });
            }
            insights.push({ icon: 'üîç', text: 'Language patterns match known fake review characteristics.' });
          } else {
            if (confidence > 80) {
              insights.push({ icon: '‚ú®', text: 'High confidence based on natural language patterns.' });
            }
            insights.push({ icon: 'üí¨', text: 'Review shows balanced sentiment and specific details.' });
            insights.push({ icon: 'üéØ', text: 'No suspicious patterns or manipulation detected.' });
          }

          ui.setHTML('insightsList', insights.map(i => `
            <div class="insight-item">
              <span class="insight-icon">${i.icon}</span>
              <span class="insight-text">${i.text}</span>
            </div>
          `).join(''));
        },
        generateKeywords(reviewText, isFake) {
          const keywords = [];
          const text = reviewText.toUpperCase();

          CONFIG.KEYWORDS.suspicious.forEach(kw => {
            if (text.includes(kw)) {
              keywords.push({ text: kw, type: 'suspicious' });
            }
          });

          CONFIG.KEYWORDS.legitimate.forEach(kw => {
            if (reviewText.toLowerCase().includes(kw.toLowerCase())) {
              keywords.push({ text: kw, type: 'legit' });
            }
          });

          if (keywords.length === 0) {
            ui.setHTML('keywordCloud', '<p style="color: var(--text-secondary); font-size: 14px;">No significant patterns detected</p>');
            return;
          }

          ui.setHTML('keywordCloud', keywords.map(kw => 
            `<span class="keyword-tag ${kw.type === 'legit' ? 'legit' : ''}">${kw.text}</span>`
          ).join(''));
        }
      };

      const exportModule = {
        result(format) {
          if (!state.currentResult) {
            toast.show('Error', 'No results to export', 'error');
            return;
          }

          const data = {
            reviewText: state.currentResult.reviewText,
            isFake: state.currentResult.is_fake,
            confidence: Math.round(state.currentResult.confidence * 100),
            riskLevel: state.currentResult.risk_level,
            fakeProbability: Math.round(state.currentResult.fake_probability * 100),
            legitProbability: Math.round(state.currentResult.legitimate_probability * 100),
            timestamp: new Date().toISOString()
          };

          if (format === 'json') {
            this.download(JSON.stringify(data, null, 2), `review-analysis-${Date.now()}.json`, 'application/json');
          } else if (format === 'csv') {
            const csv = `Review Text,Is Fake,Confidence,Risk Level,Fake Probability,Legit Probability,Timestamp\n"${data.reviewText}",${data.isFake},${data.confidence}%,${data.riskLevel},${data.fakeProbability}%,${data.legitProbability}%,${data.timestamp}`;
            this.download(csv, `review-analysis-${Date.now()}.csv`, 'text/csv');
          }

          toast.show('Export Complete', `Exported as ${format.toUpperCase()}`, 'success');
        },
        share() {
          if (!state.currentResult) {
            toast.show('Error', 'No results to share', 'error');
            return;
          }

          const text = `ReviewGuard Analysis: ${state.currentResult.is_fake ? 'Fake' : 'Legitimate'} review detected with ${Math.round(state.currentResult.confidence * 100)}% confidence`;
          
          if (navigator.share) {
            navigator.share({ title: 'ReviewGuard Analysis', text })
              .then(() => toast.show('Shared', 'Result shared successfully', 'success'))
              .catch(() => {});
          } else {
            navigator.clipboard.writeText(text);
            toast.show('Copied', 'Result copied to clipboard', 'success');
          }
        },
        download(content, filename, mimeType) {
          const blob = new Blob([content], { type: mimeType });
          const url = URL.createObjectURL(blob);
          const a = document.createElement('a');
          a.href = url;
          a.download = filename;
          document.body.appendChild(a);
          a.click();
          document.body.removeChild(a);
          URL.revokeObjectURL(url);
        }
      };

      const history = {
        search: (() => {
          let timeout;
          return () => {
            clearTimeout(timeout);
            timeout = setTimeout(() => {
              const term = dom.get('historySearch')?.value || '';
              this.render(term);
            }, 300);
          };
        })(),
        add(reviewText, data) {
          let history = storage.get(CONFIG.STORAGE_KEYS.HISTORY) || [];
          
          history.unshift({
            id: Date.now(),
            text: reviewText.substring(0, 100) + (reviewText.length > 100 ? '...' : ''),
            isFake: data.is_fake,
            confidence: Math.round(data.confidence * 100),
            timestamp: new Date().toLocaleString()
          });

          if (history.length > CONFIG.LIMITS.HISTORY_MAX) {
            history = history.slice(0, CONFIG.LIMITS.HISTORY_MAX);
          }

          storage.set(CONFIG.STORAGE_KEYS.HISTORY, history);
          this.render();
        },
        render(searchTerm = '') {
          let history = storage.get(CONFIG.STORAGE_KEYS.HISTORY) || [];

          if (searchTerm) {
            history = history.filter(e => e.text.toLowerCase().includes(searchTerm.toLowerCase()));
          }

          const list = dom.get('historyList');
          if (!list) return;

          if (history.length === 0) {
            list.innerHTML = `
              <div class="history-empty">
                <p>üì≠ ${searchTerm ? 'No matching results.' : 'No analysis history yet.'}<br>
                ${searchTerm ? '' : 'Start analyzing reviews to build your history!'}</p>
              </div>
            `;
            return;
          }

          list.innerHTML = history.map(e => `
            <div class="history-item">
              <div class="history-icon">${e.isFake ? 'üö®' : '‚úÖ'}</div>
              <div class="history-content">
                <div class="history-text">${e.text}</div>
                <div class="history-meta">
                  <span>${e.isFake ? 'Fake' : 'Legitimate'}</span>
                  <span>‚Ä¢</span>
                  <span>${e.confidence}% confidence</span>
                  <span>‚Ä¢</span>
                  <span>${e.timestamp}</span>
                </div>
              </div>
            </div>
          `).join('');
        },
        clear() {
          if (confirm('Clear all history?')) {
            storage.remove(CONFIG.STORAGE_KEYS.HISTORY);
            this.render();
            toast.show('History Cleared', 'All history removed', 'info');
          }
        }
      };

      const charts = {
        init() {
          Object.values(state.charts).forEach(chart => {
            if (chart && typeof chart.destroy === 'function') {
              chart.destroy();
            }
          });
          state.charts = {};

          if (typeof Chart === 'undefined') {
            console.error('Chart.js not loaded');
            return;
          }

          const isDark = state.theme === 'dark';
          const textColor = isDark ? '#e9ecef' : '#1a1a2e';
          const gridColor = isDark ? 'rgba(255,255,255,0.1)' : 'rgba(0,0,0,0.1)';

          Chart.defaults.color = textColor;
          Chart.defaults.borderColor = gridColor;

          this.createDetectionChart();
          this.createConfidenceChart();
          this.createTimelineChart();
        },
        createDetectionChart() {
          const ctx = dom.get('detectionChart');
          if (!ctx) return;

          state.charts.detection = new Chart(ctx, {
            type: 'doughnut',
            data: {
              labels: ['Fake', 'Legitimate'],
              datasets: [{
                data: [stats.data.fake, stats.data.legit],
                backgroundColor: ['rgba(239,68,68,0.8)', 'rgba(16,185,129,0.8)'],
                borderWidth: 0
              }]
            },
            options: {
              responsive: true,
              maintainAspectRatio: false,
              plugins: { legend: { position: 'bottom' } }
            }
          });
        },
        createConfidenceChart() {
          const ctx = dom.get('confidenceChart');
          if (!ctx) return;

          state.charts.confidence = new Chart(ctx, {
            type: 'bar',
            data: {
              labels: ['0-20%', '21-40%', '41-60%', '61-80%', '81-100%'],
              datasets: [{
                label: 'Reviews',
                data: [2, 5, 8, 15, 25],
                backgroundColor: 'rgba(102,126,234,0.8)',
                borderRadius: 8
              }]
            },
            options: {
              responsive: true,
              maintainAspectRatio: false,
              plugins: { legend: { display: false } },
              scales: {
                y: { beginAtZero: true },
                x: { grid: { display: false } }
              }
            }
          });
        },
        createTimelineChart() {
          const ctx = dom.get('timelineChart');
          if (!ctx) return;

          state.charts.timeline = new Chart(ctx, {
            type: 'line',
            data: {
              labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
              datasets: [{
                label: 'Reviews',
                data: [12, 19, 15, 25, 22, 30, 28],
                borderColor: 'rgba(102,126,234,1)',
                backgroundColor: 'rgba(102,126,234,0.1)',
                tension: 0.4,
                fill: true
              }]
            },
            options: {
              responsive: true,
              maintainAspectRatio: false,
              plugins: { legend: { display: false } },
              scales: {
                y: { beginAtZero: true },
                x: { grid: { display: false } }
              }
            }
          });
        }
      };

      const effects = {
        confetti() {
          const colors = ['#667eea', '#764ba2', '#f093fb', '#4facfe', '#10b981'];
          const fragment = document.createDocumentFragment();
          
          for (let i = 0; i < 50; i++) {
            const confetti = document.createElement('div');
            confetti.className = 'confetti';
            confetti.style.left = Math.random() * 100 + 'vw';
            confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
            confetti.style.animationDuration = (Math.random() * 3 + 2) + 's';
            confetti.style.animation = 'confetti-fall linear forwards';
            fragment.appendChild(confetti);
          }
          
          document.body.appendChild(fragment);
          
          setTimeout(() => {
            document.querySelectorAll('.confetti').forEach(c => c.remove());
          }, 5000);
        }
      };

      const utils = {
        scrollToTop() {
          window.scrollTo({ top: 0, behavior: 'smooth' });
        },
        scrollToAnalyzer() {
          ui.scrollTo('.tabs-container');
        }
      };

      const init = () => {
        theme.init();
        tabs.init();
        stats.display();
        history.render();

        let ticking = false;
        const navbar = dom.query('.navbar');
        
        window.addEventListener('scroll', () => {
          if (!ticking) {
            window.requestAnimationFrame(() => {
              navbar?.classList.toggle('scrolled', window.scrollY > 50);
              ticking = false;
            });
            ticking = true;
          }
        });

        dom.get('reviewText')?.addEventListener('keydown', (e) => {
          if (e.ctrlKey && e.key === 'Enter') {
            analyzer.analyze();
          }
        });

        toast.show('Welcome', 'ReviewGuard ready', 'success');
      };

      return {
        init,
        theme,
        tabs,
        form,
        examples,
        analyzer,
        export: exportModule,
        history,
        charts,
        utils,
        toast
      };
    })();

    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', () => App.init());
    } else {
      App.init();
    }
  </script>

</body>
</html>