<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ReviewGuard Ultra ‚Äì AI-Powered Review Analysis Platform</title>
  
  <!-- Chart.js for visualizations -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.js"></script>
  
  <style>
    /* ==================== CSS VARIABLES ==================== */
    :root {
      /* Light Mode Colors */
      --bg-primary: #ffffff;
      --bg-secondary: #f8f9fa;
      --bg-tertiary: #e9ecef;
      --text-primary: #1a1a2e;
      --text-secondary: #6c757d;
      --text-tertiary: #adb5bd;
      --accent-primary: #667eea;
      --accent-secondary: #764ba2;
      --accent-tertiary: #f093fb;
      --accent-quaternary: #4facfe;
      --success: #10b981;
      --success-light: #d1fae5;
      --warning: #f59e0b;
      --warning-light: #fef3c7;
      --danger: #ef4444;
      --danger-light: #fee2e2;
      --info: #3b82f6;
      --info-light: #dbeafe;
      --card-bg: rgba(255, 255, 255, 0.9);
      --card-border: rgba(0, 0, 0, 0.08);
      --glass-bg: rgba(255, 255, 255, 0.7);
      --glass-border: rgba(255, 255, 255, 0.18);
      --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.1);
      --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.1);
      --shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.1);
      --shadow-xl: 0 20px 25px rgba(0, 0, 0, 0.1);
      --shadow-glow: 0 0 60px rgba(102, 126, 234, 0.4);
      
      /* Transitions */
      --transition-smooth: cubic-bezier(0.4, 0, 0.2, 1);
      --transition-spring: cubic-bezier(0.34, 1.56, 0.64, 1);
      --transition-bounce: cubic-bezier(0.68, -0.55, 0.265, 1.55);
    }

    [data-theme="dark"] {
      --bg-primary: #0f0f23;
      --bg-secondary: #1a1a2e;
      --bg-tertiary: #16213e;
      --text-primary: #e9ecef;
      --text-secondary: #adb5bd;
      --text-tertiary: #6c757d;
      --accent-primary: #7c3aed;
      --accent-secondary: #a78bfa;
      --accent-tertiary: #c084fc;
      --accent-quaternary: #60a5fa;
      --success: #34d399;
      --success-light: #064e3b;
      --warning: #fbbf24;
      --warning-light: #78350f;
      --danger: #f87171;
      --danger-light: #7f1d1d;
      --info: #60a5fa;
      --info-light: #1e3a8a;
      --card-bg: rgba(26, 26, 46, 0.9);
      --card-border: rgba(255, 255, 255, 0.1);
      --glass-bg: rgba(26, 26, 46, 0.7);
      --glass-border: rgba(255, 255, 255, 0.1);
      --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.5);
      --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.5);
      --shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.5);
      --shadow-xl: 0 20px 25px rgba(0, 0, 0, 0.5);
      --shadow-glow: 0 0 60px rgba(124, 58, 237, 0.4);
    }

    /* ==================== RESET & BASE ==================== */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html {
      scroll-behavior: smooth;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
      background: var(--bg-primary);
      color: var(--text-primary);
      line-height: 1.6;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      overflow-x: hidden;
      transition: background 0.5s var(--transition-smooth);
      position: relative;
    }

    /* Animated Background with Particles */
    body::before {
      content: '';
      position: fixed;
      inset: 0;
      background: 
        radial-gradient(circle at 20% 30%, rgba(102, 126, 234, 0.15) 0%, transparent 50%),
        radial-gradient(circle at 80% 70%, rgba(118, 75, 162, 0.15) 0%, transparent 50%),
        radial-gradient(circle at 50% 50%, rgba(240, 147, 251, 0.1) 0%, transparent 60%);
      animation: gradientShift 20s ease infinite;
      pointer-events: none;
      z-index: -1;
    }

    [data-theme="dark"] body::before {
      background: 
        radial-gradient(circle at 20% 30%, rgba(124, 58, 237, 0.2) 0%, transparent 50%),
        radial-gradient(circle at 80% 70%, rgba(167, 139, 250, 0.2) 0%, transparent 50%),
        radial-gradient(circle at 50% 50%, rgba(192, 132, 252, 0.15) 0%, transparent 60%);
    }

    @keyframes gradientShift {
      0%, 100% { opacity: 1; transform: scale(1) rotate(0deg); }
      50% { opacity: 0.8; transform: scale(1.1) rotate(5deg); }
    }

    ::selection {
      background: var(--accent-primary);
      color: white;
    }

    /* ==================== TOAST NOTIFICATIONS ==================== */
    .toast-container {
      position: fixed;
      top: 90px;
      right: 20px;
      z-index: 10000;
      display: flex;
      flex-direction: column;
      gap: 12px;
      max-width: 400px;
    }

    .toast {
      background: var(--card-bg);
      backdrop-filter: blur(20px);
      border: 1px solid var(--card-border);
      border-radius: 16px;
      padding: 16px 20px;
      box-shadow: var(--shadow-xl);
      display: flex;
      align-items: center;
      gap: 12px;
      animation: slideInRight 0.4s var(--transition-spring);
      min-width: 300px;
    }

    @keyframes slideInRight {
      from {
        opacity: 0;
        transform: translateX(100px);
      }
      to {
        opacity: 1;
        transform: translateX(0);
      }
    }

    .toast-icon {
      font-size: 24px;
      flex-shrink: 0;
    }

    .toast-content {
      flex: 1;
    }

    .toast-title {
      font-weight: 600;
      margin-bottom: 4px;
      font-size: 15px;
    }

    .toast-message {
      font-size: 13px;
      color: var(--text-secondary);
      line-height: 1.4;
    }

    .toast-close {
      background: none;
      border: none;
      cursor: pointer;
      font-size: 18px;
      padding: 4px;
      color: var(--text-tertiary);
      transition: color 0.2s;
    }

    .toast-close:hover {
      color: var(--text-primary);
    }

    .toast.success { border-left: 4px solid var(--success); }
    .toast.error { border-left: 4px solid var(--danger); }
    .toast.info { border-left: 4px solid var(--info); }
    .toast.warning { border-left: 4px solid var(--warning); }

    /* ==================== NAVBAR ==================== */
    .navbar {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 1000;
      background: var(--glass-bg);
      backdrop-filter: saturate(180%) blur(20px);
      -webkit-backdrop-filter: saturate(180%) blur(20px);
      border-bottom: 1px solid var(--glass-border);
      transition: all 0.3s var(--transition-smooth);
    }

    .navbar.scrolled {
      box-shadow: var(--shadow-lg);
      background: var(--card-bg);
    }

    .nav-container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 0 2rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      height: 70px;
    }

    .nav-brand {
      display: flex;
      align-items: center;
      gap: 12px;
      font-size: 24px;
      font-weight: 700;
      color: var(--text-primary);
      text-decoration: none;
      transition: transform 0.3s var(--transition-spring);
    }

    .nav-brand:hover {
      transform: translateY(-2px);
    }

    .nav-brand-icon {
      font-size: 32px;
      animation: float 3s ease-in-out infinite;
    }

    @keyframes float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-5px); }
    }

    .nav-menu {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .nav-link {
      padding: 10px 20px;
      border-radius: 12px;
      font-weight: 500;
      color: var(--text-secondary);
      text-decoration: none;
      transition: all 0.3s var(--transition-smooth);
      font-size: 15px;
      cursor: pointer;
      background: none;
      border: none;
      font-family: inherit;
    }

    .nav-link:hover, .nav-link.active {
      color: var(--accent-primary);
      background: var(--glass-bg);
    }

    .theme-toggle {
      background: var(--glass-bg);
      border: 1px solid var(--glass-border);
      padding: 10px;
      border-radius: 12px;
      cursor: pointer;
      font-size: 20px;
      transition: all 0.3s var(--transition-spring);
      display: flex;
      align-items: center;
      justify-content: center;
      width: 44px;
      height: 44px;
      margin-left: 8px;
    }

    .theme-toggle:hover {
      background: var(--accent-primary);
      transform: rotate(15deg) scale(1.1);
      box-shadow: var(--shadow-glow);
    }

    /* ==================== TABS SYSTEM ==================== */
    .tabs-container {
      background: var(--bg-secondary);
      padding: 100px 0 40px;
    }

    .tabs-wrapper {
      max-width: 1400px;
      margin: 0 auto;
      padding: 0 2rem;
    }

    .tabs-nav {
      display: flex;
      gap: 12px;
      margin-bottom: 40px;
      background: var(--glass-bg);
      padding: 8px;
      border-radius: 16px;
      border: 1px solid var(--glass-border);
      flex-wrap: wrap;
    }

    .tab-button {
      flex: 1;
      min-width: 150px;
      padding: 16px 24px;
      border: none;
      background: transparent;
      color: var(--text-secondary);
      font-weight: 600;
      font-size: 15px;
      border-radius: 12px;
      cursor: pointer;
      transition: all 0.3s var(--transition-smooth);
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      font-family: inherit;
    }

    .tab-button:hover {
      background: var(--card-bg);
      color: var(--text-primary);
    }

    .tab-button.active {
      background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
      color: white;
      box-shadow: var(--shadow-md);
    }

    .tab-content {
      display: none;
      animation: fadeIn 0.5s var(--transition-smooth);
    }

    .tab-content.active {
      display: block;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    /* ==================== HERO SECTION ==================== */
    .hero {
      min-height: 90vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 140px 2rem 80px;
      position: relative;
      overflow: hidden;
    }

    .hero-content {
      max-width: 1200px;
      text-align: center;
      position: relative;
      z-index: 1;
    }

    .hero-badge {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 10px 24px;
      background: var(--glass-bg);
      backdrop-filter: blur(10px);
      border: 1px solid var(--glass-border);
      border-radius: 50px;
      font-size: 14px;
      font-weight: 600;
      color: var(--accent-primary);
      margin-bottom: 32px;
      animation: fadeInDown 0.8s var(--transition-smooth) 0.2s backwards;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    @keyframes fadeInDown {
      from {
        opacity: 0;
        transform: translateY(-30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .hero-title {
      font-size: clamp(48px, 8vw, 80px);
      font-weight: 800;
      line-height: 1.1;
      margin-bottom: 24px;
      background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary), var(--accent-tertiary));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      animation: fadeInUp 0.8s var(--transition-smooth) 0.4s backwards;
      letter-spacing: -0.02em;
    }

    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .hero-subtitle {
      font-size: clamp(18px, 3vw, 24px);
      color: var(--text-secondary);
      margin-bottom: 48px;
      max-width: 700px;
      margin-left: auto;
      margin-right: auto;
      animation: fadeInUp 0.8s var(--transition-smooth) 0.6s backwards;
      line-height: 1.6;
    }

    .hero-cta {
      display: flex;
      gap: 16px;
      justify-content: center;
      flex-wrap: wrap;
      animation: fadeInUp 0.8s var(--transition-smooth) 0.8s backwards;
    }

    /* ==================== BUTTON STYLES ==================== */
    .btn {
      padding: 16px 32px;
      border-radius: 14px;
      font-size: 16px;
      font-weight: 600;
      border: none;
      cursor: pointer;
      transition: all 0.3s var(--transition-smooth);
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      gap: 8px;
      position: relative;
      overflow: hidden;
      font-family: inherit;
    }

    .btn::before {
      content: '';
      position: absolute;
      inset: 0;
      background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.3), transparent);
      transform: translateX(-100%);
      transition: transform 0.6s;
    }

    .btn:hover::before {
      transform: translateX(100%);
    }

    .btn-primary {
      background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
      color: white;
      box-shadow: var(--shadow-lg);
    }

    .btn-primary:hover {
      transform: translateY(-3px);
      box-shadow: var(--shadow-glow);
    }

    .btn-secondary {
      background: var(--glass-bg);
      backdrop-filter: blur(10px);
      color: var(--text-primary);
      border: 1px solid var(--glass-border);
    }

    .btn-secondary:hover {
      background: var(--card-bg);
      transform: translateY(-3px);
      box-shadow: var(--shadow-md);
    }

    .btn-sm {
      padding: 10px 20px;
      font-size: 14px;
    }

    /* ==================== STATS CARDS ==================== */
    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 24px;
      margin-bottom: 40px;
    }

    .stat-card {
      background: var(--glass-bg);
      backdrop-filter: blur(20px);
      border: 1px solid var(--glass-border);
      border-radius: 20px;
      padding: 32px 24px;
      text-align: center;
      transition: all 0.4s var(--transition-smooth);
      position: relative;
      overflow: hidden;
    }

    .stat-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(90deg, var(--accent-primary), var(--accent-secondary), var(--accent-tertiary));
      transform: scaleX(0);
      transition: transform 0.6s var(--transition-smooth);
    }

    .stat-card:hover {
      transform: translateY(-8px);
      box-shadow: var(--shadow-xl);
    }

    .stat-card:hover::before {
      transform: scaleX(1);
    }

    .stat-icon {
      font-size: 40px;
      margin-bottom: 12px;
    }

    .stat-number {
      font-size: clamp(36px, 5vw, 48px);
      font-weight: 800;
      background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-bottom: 8px;
      display: block;
      line-height: 1;
    }

    .stat-label {
      font-size: 14px;
      color: var(--text-secondary);
      font-weight: 500;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    /* ==================== ANALYZER CARD ==================== */
    .analyzer-card {
      background: var(--card-bg);
      backdrop-filter: blur(20px);
      border: 1px solid var(--card-border);
      border-radius: 24px;
      padding: 48px;
      box-shadow: var(--shadow-xl);
      position: relative;
      overflow: hidden;
    }

    .form-group {
      margin-bottom: 28px;
      position: relative;
      z-index: 1;
    }

    .form-label {
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 15px;
      font-weight: 600;
      margin-bottom: 10px;
      color: var(--text-primary);
    }

    .form-input {
      width: 100%;
      padding: 16px 20px;
      border-radius: 14px;
      border: 2px solid var(--card-border);
      background: var(--glass-bg);
      font-size: 15px;
      font-family: inherit;
      color: var(--text-primary);
      transition: all 0.3s var(--transition-smooth);
    }

    .form-input:focus {
      outline: none;
      border-color: var(--accent-primary);
      box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.1);
      background: var(--bg-primary);
    }

    textarea.form-input {
      min-height: 140px;
      resize: vertical;
      line-height: 1.6;
    }

    .form-hint {
      font-size: 13px;
      color: var(--text-secondary);
      margin-top: 6px;
      line-height: 1.4;
    }

    /* Quick Actions */
    .quick-actions {
      display: flex;
      gap: 12px;
      margin-bottom: 32px;
      flex-wrap: wrap;
    }

    .quick-btn {
      flex: 1;
      min-width: 180px;
      padding: 14px 20px;
      border-radius: 12px;
      border: 2px solid var(--card-border);
      background: var(--glass-bg);
      font-size: 14px;
      font-weight: 600;
      color: var(--text-primary);
      cursor: pointer;
      transition: all 0.3s var(--transition-smooth);
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      font-family: inherit;
    }

    .quick-btn:hover {
      border-color: var(--accent-primary);
      background: var(--accent-primary);
      color: white;
      transform: translateY(-2px);
      box-shadow: var(--shadow-md);
    }

    /* Advanced Options */
    .advanced-content {
      display: none;
      background: var(--glass-bg);
      border: 2px solid var(--card-border);
      border-radius: 18px;
      padding: 28px;
      margin-bottom: 28px;
      animation: slideDown 0.4s var(--transition-smooth);
    }

    @keyframes slideDown {
      from {
        opacity: 0;
        transform: translateY(-20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .advanced-content.show {
      display: block;
    }

    .advanced-hint {
      display: flex;
      align-items: flex-start;
      gap: 12px;
      padding: 14px;
      background: var(--info-light);
      border-radius: 10px;
      margin-bottom: 20px;
      font-size: 14px;
      color: var(--text-primary);
      line-height: 1.5;
    }

    /* Loading State */
    .loading-overlay {
      display: none;
      position: relative;
      padding: 50px;
      text-align: center;
    }

    .loading-overlay.show {
      display: block;
    }

    .spinner {
      width: 50px;
      height: 50px;
      margin: 0 auto 20px;
      border: 4px solid var(--card-border);
      border-top-color: var(--accent-primary);
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    .loading-text {
      font-size: 16px;
      color: var(--text-secondary);
      font-weight: 500;
    }

    /* Result Box */
    .result-container {
      display: none;
      margin-top: 40px;
      animation: fadeInUp 0.6s var(--transition-smooth);
    }

    .result-container.show {
      display: block;
    }

    .result-box {
      background: var(--card-bg);
      border: 2px solid var(--card-border);
      border-radius: 24px;
      padding: 40px;
      position: relative;
      overflow: hidden;
    }

    .result-box::before {
      content: '';
      position: absolute;
      inset: 0;
      opacity: 0.03;
      pointer-events: none;
    }

    .result-box.legit {
      border-color: var(--success);
    }

    .result-box.legit::before {
      background: radial-gradient(circle at center, var(--success) 0%, transparent 70%);
    }

    .result-box.fake {
      border-color: var(--danger);
    }

    .result-box.fake::before {
      background: radial-gradient(circle at center, var(--danger) 0%, transparent 70%);
    }

    .result-header {
      display: flex;
      align-items: center;
      gap: 20px;
      margin-bottom: 28px;
    }

    .result-icon {
      font-size: 56px;
      animation: scaleIn 0.5s var(--transition-bounce);
    }

    @keyframes scaleIn {
      from {
        transform: scale(0);
        opacity: 0;
      }
      to {
        transform: scale(1);
        opacity: 1;
      }
    }

    .result-title-group h3 {
      font-size: 28px;
      font-weight: 800;
      margin-bottom: 6px;
      color: var(--text-primary);
    }

    .result-subtitle {
      font-size: 15px;
      color: var(--text-secondary);
    }

    .confidence-section {
      margin-bottom: 28px;
    }

    .confidence-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 14px;
    }

    .confidence-label {
      font-size: 15px;
      font-weight: 600;
      color: var(--text-secondary);
    }

    .confidence-value {
      font-size: 32px;
      font-weight: 800;
      background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .confidence-bar {
      height: 14px;
      background: var(--bg-secondary);
      border-radius: 50px;
      overflow: hidden;
      position: relative;
    }

    .confidence-fill {
      height: 100%;
      background: linear-gradient(90deg, var(--accent-primary), var(--accent-secondary), var(--accent-tertiary));
      border-radius: 50px;
      transition: width 1.5s var(--transition-smooth);
      position: relative;
      overflow: hidden;
    }

    .confidence-fill::after {
      content: '';
      position: absolute;
      inset: 0;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
      animation: shimmer 2s infinite;
    }

    @keyframes shimmer {
      from { transform: translateX(-100%); }
      to { transform: translateX(100%); }
    }

    .risk-badge {
      display: inline-block;
      padding: 8px 18px;
      border-radius: 50px;
      font-size: 12px;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.8px;
      margin-top: 14px;
    }

    .risk-low {
      background: var(--success-light);
      color: var(--success);
    }

    .risk-medium {
      background: var(--warning-light);
      color: var(--warning);
    }

    .risk-high {
      background: var(--danger-light);
      color: var(--danger);
    }

    .result-details {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      gap: 20px;
      margin-top: 28px;
      padding-top: 28px;
      border-top: 2px solid var(--card-border);
    }

    .detail-item {
      text-align: center;
      padding: 18px;
      background: var(--glass-bg);
      border-radius: 14px;
      border: 1px solid var(--card-border);
      transition: transform 0.3s;
    }

    .detail-item:hover {
      transform: translateY(-3px);
    }

    .detail-label {
      font-size: 13px;
      color: var(--text-secondary);
      margin-bottom: 6px;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      font-weight: 600;
    }

    .detail-value {
      font-size: 24px;
      font-weight: 800;
      color: var(--text-primary);
    }

    /* Insights Section */
    .insights-section {
      margin-top: 28px;
      padding: 28px;
      background: var(--glass-bg);
      border-radius: 18px;
      border: 2px solid var(--card-border);
    }

    .insights-title {
      font-size: 18px;
      font-weight: 700;
      margin-bottom: 18px;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .insight-item {
      display: flex;
      align-items: flex-start;
      gap: 12px;
      padding: 14px;
      background: var(--bg-primary);
      border-radius: 10px;
      margin-bottom: 10px;
      transition: transform 0.3s var(--transition-smooth);
    }

    .insight-item:hover {
      transform: translateX(5px);
    }

    .insight-icon {
      font-size: 18px;
      flex-shrink: 0;
    }

    .insight-text {
      flex: 1;
      line-height: 1.5;
      color: var(--text-secondary);
      font-size: 14px;
    }

    /* Keyword Highlighting */
    .keyword-section {
      margin-top: 28px;
      padding: 28px;
      background: var(--glass-bg);
      border-radius: 18px;
      border: 2px solid var(--card-border);
    }

    .keyword-title {
      font-size: 18px;
      font-weight: 700;
      margin-bottom: 18px;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .keyword-cloud {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }

    .keyword-tag {
      padding: 8px 16px;
      background: var(--danger-light);
      color: var(--danger);
      border-radius: 50px;
      font-size: 13px;
      font-weight: 600;
      border: 1px solid var(--danger);
      transition: transform 0.2s;
    }

    .keyword-tag:hover {
      transform: scale(1.05);
    }

    .keyword-tag.legit {
      background: var(--success-light);
      color: var(--success);
      border-color: var(--success);
    }

    /* Export Actions */
    .export-section {
      margin-top: 28px;
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
    }

    /* ==================== BATCH ANALYSIS ==================== */
    .batch-container {
      display: grid;
      gap: 24px;
    }

    .batch-input-area {
      background: var(--card-bg);
      border: 2px dashed var(--card-border);
      border-radius: 18px;
      padding: 40px;
      text-align: center;
      transition: all 0.3s;
      cursor: pointer;
    }

    .batch-input-area:hover {
      border-color: var(--accent-primary);
      background: var(--glass-bg);
    }

    .batch-input-area.dragover {
      border-color: var(--accent-primary);
      background: var(--accent-primary);
      color: white;
    }

    .batch-icon {
      font-size: 64px;
      margin-bottom: 20px;
    }

    .batch-text {
      font-size: 18px;
      font-weight: 600;
      margin-bottom: 10px;
    }

    .batch-hint {
      font-size: 14px;
      color: var(--text-secondary);
    }

    .batch-reviews-list {
      display: grid;
      gap: 16px;
    }

    .batch-review-item {
      background: var(--glass-bg);
      border: 1px solid var(--card-border);
      border-radius: 14px;
      padding: 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 16px;
    }

    .batch-review-text {
      flex: 1;
      font-size: 14px;
      color: var(--text-primary);
      line-clamp: 2;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
      display: -webkit-box;
    }

    .batch-review-status {
      font-size: 24px;
      flex-shrink: 0;
    }

    .batch-remove {
      background: var(--danger-light);
      color: var(--danger);
      border: none;
      padding: 8px 16px;
      border-radius: 8px;
      cursor: pointer;
      font-size: 12px;
      font-weight: 600;
      transition: all 0.3s;
    }

    .batch-remove:hover {
      background: var(--danger);
      color: white;
    }

    /* ==================== DASHBOARD/ANALYTICS ==================== */
    .dashboard-grid {
      display: grid;
      gap: 24px;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    }

    .chart-card {
      background: var(--card-bg);
      border: 1px solid var(--card-border);
      border-radius: 20px;
      padding: 28px;
      box-shadow: var(--shadow-md);
    }

    .chart-header {
      margin-bottom: 20px;
    }

    .chart-title {
      font-size: 18px;
      font-weight: 700;
      margin-bottom: 6px;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .chart-subtitle {
      font-size: 13px;
      color: var(--text-secondary);
    }

    .chart-container {
      position: relative;
      height: 250px;
    }

    /* ==================== HISTORY ==================== */
    .history-section {
      margin-top: 40px;
    }

    .history-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 24px;
      flex-wrap: wrap;
      gap: 16px;
    }

    .history-title {
      font-size: 22px;
      font-weight: 700;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .history-actions {
      display: flex;
      gap: 12px;
    }

    .history-search {
      padding: 10px 16px;
      border-radius: 10px;
      border: 2px solid var(--card-border);
      background: var(--glass-bg);
      font-size: 14px;
      color: var(--text-primary);
      width: 200px;
      font-family: inherit;
    }

    .history-search:focus {
      outline: none;
      border-color: var(--accent-primary);
    }

    .history-list {
      display: grid;
      gap: 14px;
    }

    .history-item {
      background: var(--glass-bg);
      border: 1px solid var(--card-border);
      border-radius: 14px;
      padding: 18px;
      display: flex;
      gap: 16px;
      align-items: flex-start;
      transition: all 0.3s var(--transition-smooth);
      cursor: pointer;
    }

    .history-item:hover {
      transform: translateX(5px);
      box-shadow: var(--shadow-md);
      border-color: var(--accent-primary);
    }

    .history-icon {
      font-size: 28px;
      flex-shrink: 0;
    }

    .history-content {
      flex: 1;
    }

    .history-text {
      font-size: 14px;
      color: var(--text-primary);
      margin-bottom: 8px;
      line-clamp: 2;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
      display: -webkit-box;
    }

    .history-meta {
      display: flex;
      gap: 12px;
      font-size: 12px;
      color: var(--text-secondary);
      flex-wrap: wrap;
    }

    .history-empty {
      text-align: center;
      padding: 60px 20px;
      color: var(--text-secondary);
      font-size: 16px;
    }

    /* ==================== FOOTER ==================== */
    footer {
      background: var(--bg-secondary);
      padding: 60px 2rem 40px;
      border-top: 1px solid var(--card-border);
      margin-top: 60px;
    }

    .footer-container {
      max-width: 1400px;
      margin: 0 auto;
      text-align: center;
    }

    .footer-brand {
      font-size: 26px;
      font-weight: 800;
      margin-bottom: 14px;
      background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .footer-text {
      color: var(--text-secondary);
      line-height: 1.7;
      margin-bottom: 20px;
      font-size: 14px;
    }

    .footer-links {
      display: flex;
      justify-content: center;
      gap: 24px;
      flex-wrap: wrap;
      margin-bottom: 20px;
    }

    .footer-link {
      color: var(--text-secondary);
      text-decoration: none;
      font-weight: 500;
      transition: color 0.3s var(--transition-smooth);
      font-size: 14px;
    }

    .footer-link:hover {
      color: var(--accent-primary);
    }

    .footer-copyright {
      color: var(--text-tertiary);
      font-size: 12px;
      padding-top: 20px;
      border-top: 1px solid var(--card-border);
    }

    /* ==================== RESPONSIVE ==================== */
    @media (max-width: 768px) {
      .hero {
        padding: 120px 1rem 60px;
      }

      .nav-container {
        padding: 0 1rem;
      }

      .nav-link {
        display: none;
      }

      .tabs-wrapper {
        padding: 0 1rem;
      }

      .tab-button {
        min-width: 120px;
        padding: 12px 16px;
        font-size: 13px;
      }

      .analyzer-card {
        padding: 28px 20px;
      }

      .quick-actions {
        flex-direction: column;
      }

      .quick-btn {
        width: 100%;
      }

      .result-box {
        padding: 28px 20px;
      }

      .result-header {
        flex-direction: column;
        text-align: center;
      }

      .confidence-header {
        flex-direction: column;
        gap: 8px;
        text-align: center;
      }

      .toast-container {
        left: 20px;
        right: 20px;
        max-width: none;
      }

      .history-search {
        width: 100%;
      }
    }

    /* ==================== FLOATING ACTION BUTTON ==================== */
    .fab {
      position: fixed;
      bottom: 30px;
      right: 30px;
      width: 60px;
      height: 60px;
      border-radius: 50%;
      background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
      color: white;
      border: none;
      box-shadow: var(--shadow-glow);
      cursor: pointer;
      font-size: 24px;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s var(--transition-spring);
      z-index: 999;
    }

    .fab:hover {
      transform: scale(1.1) rotate(90deg);
      box-shadow: 0 0 80px rgba(102, 126, 234, 0.6);
    }

    /* ==================== CONFETTI ANIMATION ==================== */
    @keyframes confetti-fall {
      0% {
        transform: translateY(-100vh) rotate(0deg);
        opacity: 1;
      }
      100% {
        transform: translateY(100vh) rotate(720deg);
        opacity: 0;
      }
    }

    .confetti {
      position: fixed;
      width: 10px;
      height: 10px;
      z-index: 9999;
      pointer-events: none;
    }

    /* ==================== ACCESSIBILITY ==================== */
    @media (prefers-reduced-motion: reduce) {
      *,
      *::before,
      *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
      }
    }

    :focus-visible {
      outline: 3px solid var(--accent-primary);
      outline-offset: 3px;
    }
  </style>
</head>
<body>

  <!-- Toast Container -->
  <div class="toast-container" id="toastContainer"></div>

  <!-- NAVBAR -->
  <nav class="navbar">
    <div class="nav-container">
      <a href="#" class="nav-brand" onclick="scrollToTop()">
        <span class="nav-brand-icon">üõ°Ô∏è</span>
        ReviewGuard Ultra
      </a>
      <div class="nav-menu">
        <button class="nav-link" onclick="switchTab('single')">Single</button>
        <button class="nav-link" onclick="switchTab('batch')">Batch</button>
        <button class="nav-link" onclick="switchTab('analytics')">Analytics</button>
        <button class="nav-link" onclick="switchTab('history')">History</button>
        <button class="theme-toggle" id="themeToggle" aria-label="Toggle theme">
          <span id="themeIcon">üåô</span>
        </button>
      </div>
    </div>
  </nav>

  <!-- HERO SECTION -->
  <section class="hero">
    <div class="hero-content">
      <div class="hero-badge">
        <span>‚ú®</span>
        <span>Next-Gen AI Detection</span>
      </div>
      <h1 class="hero-title">Ultimate Review<br>Analysis Platform</h1>
      <p class="hero-subtitle">
        Advanced AI-powered analysis with batch processing, visual analytics, pattern detection, and comprehensive reporting.
      </p>
      <div class="hero-cta">
        <button class="btn btn-primary" onclick="scrollToAnalyzer()">
          üöÄ Start Analyzing
        </button>
        <button class="btn btn-secondary" onclick="loadExample('suspicious')">
          Try Demo
        </button>
      </div>
    </div>
  </section>

  <!-- TABS SECTION -->
  <section class="tabs-container">
    <div class="tabs-wrapper">
      <!-- Tab Navigation -->
      <div class="tabs-nav">
        <button class="tab-button active" data-tab="single">
          <span>üîç</span>
          <span>Single Analysis</span>
        </button>
        <button class="tab-button" data-tab="batch">
          <span>üìä</span>
          <span>Batch Analysis</span>
        </button>
        <button class="tab-button" data-tab="analytics">
          <span>üìà</span>
          <span>Analytics Dashboard</span>
        </button>
        <button class="tab-button" data-tab="history">
          <span>üìú</span>
          <span>History</span>
        </button>
      </div>

      <!-- SINGLE ANALYSIS TAB -->
      <div class="tab-content active" data-content="single">
        <div class="stats-grid">
          <div class="stat-card">
            <div class="stat-icon">üìä</div>
            <span class="stat-number" id="totalReviews">0</span>
            <div class="stat-label">Reviews Analyzed</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">üö®</div>
            <span class="stat-number" id="fakeCount">0</span>
            <div class="stat-label">Fake Detected</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">‚úÖ</div>
            <span class="stat-number" id="legitCount">0</span>
            <div class="stat-label">Legitimate</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">üéØ</div>
            <span class="stat-number" id="accuracyRate">94</span>
            <div class="stat-label">Accuracy Rate</div>
          </div>
        </div>

        <div class="analyzer-card">
          <!-- Quick Actions -->
          <div class="quick-actions">
            <button class="quick-btn" onclick="loadExample('suspicious')">
              üö® Suspicious Example
            </button>
            <button class="quick-btn" onclick="loadExample('legit')">
              ‚úÖ Legitimate Example
            </button>
            <button class="quick-btn" onclick="clearForm()">
              üóëÔ∏è Clear Form
            </button>
          </div>

          <!-- Main Form -->
          <div class="form-group">
            <label class="form-label">
              <span>üìù</span>
              <span>Review Text</span>
            </label>
            <textarea 
              id="reviewText" 
              class="form-input" 
              placeholder="Paste the review text here..."
            ></textarea>
          </div>

          <div class="form-group">
            <label class="form-label">
              <span>‚≠ê</span>
              <span>Rating (1-5)</span>
            </label>
            <input 
              type="number" 
              id="rating" 
              class="form-input" 
              min="1" 
              max="5" 
              step="0.1" 
              value="3"
            >
          </div>

          <!-- Advanced Options -->
          <button class="btn btn-secondary" style="width: 100%; margin-bottom: 20px;" onclick="toggleAdvanced()">
            ‚öôÔ∏è <span id="advancedToggleText">Show Advanced Options</span>
          </button>

          <div id="advancedOptions" class="advanced-content">
            <div class="advanced-hint">
              <span>üí°</span>
              <span>Adding reviewer context improves accuracy by analyzing behavioral patterns!</span>
            </div>

            <div class="form-group">
              <label class="form-label">
                <span>üìö</span>
                <span>Reviewer's Total Reviews</span>
              </label>
              <input 
                type="number" 
                id="totalReviewsInput" 
                class="form-input" 
                min="1" 
                max="1000" 
                value="1"
              >
              <p class="form-hint">
                Fake reviewers typically have 5-20 reviews.
              </p>
            </div>

            <div class="form-group">
              <label class="form-label">
                <span>‚≠ê</span>
                <span>Reviewer's Average Rating</span>
              </label>
              <input 
                type="number" 
                id="avgRating" 
                class="form-input" 
                min="1" 
                max="5" 
                step="0.1" 
                value="4.0"
              >
              <p class="form-hint">
                Fake reviewers often only give 1‚òÖ or 5‚òÖ ratings.
              </p>
            </div>
          </div>

          <!-- Analyze Button -->
          <button class="btn btn-primary" onclick="analyzeReview()" style="width: 100%; padding: 20px; font-size: 18px;">
            üîç Analyze Review
          </button>

          <!-- Loading State -->
          <div id="loadingOverlay" class="loading-overlay">
            <div class="spinner"></div>
            <p class="loading-text">Analyzing patterns...</p>
          </div>

          <!-- Results -->
          <div id="resultContainer" class="result-container">
            <div id="resultBox" class="result-box">
              <div class="result-header">
                <div class="result-icon" id="resultIcon">‚úÖ</div>
                <div class="result-title-group">
                  <h3 id="resultTitle">Review Looks Legitimate</h3>
                  <p class="result-subtitle" id="resultSubtitle">Based on AI analysis</p>
                </div>
              </div>

              <div class="confidence-section">
                <div class="confidence-header">
                  <span class="confidence-label">Confidence Score</span>
                  <span class="confidence-value"><span id="confidenceValue">0</span>%</span>
                </div>
                <div class="confidence-bar">
                  <div id="confidenceFill" class="confidence-fill" style="width: 0%"></div>
                </div>
                <div>
                  <span id="riskBadge" class="risk-badge risk-low">LOW RISK</span>
                </div>
              </div>

              <div class="result-details">
                <div class="detail-item">
                  <div class="detail-label">Fake Probability</div>
                  <div class="detail-value" id="fakeProbability">0%</div>
                </div>
                <div class="detail-item">
                  <div class="detail-label">Legit Probability</div>
                  <div class="detail-value" id="legitProbability">0%</div>
                </div>
              </div>

              <!-- Pattern Insights -->
              <div class="insights-section">
                <h4 class="insights-title">
                  <span>üîç</span>
                  <span>Detection Insights</span>
                </h4>
                <div id="insightsList"></div>
              </div>

              <!-- Keyword Highlighting -->
              <div class="keyword-section">
                <h4 class="keyword-title">
                  <span>üè∑Ô∏è</span>
                  <span>Key Patterns Detected</span>
                </h4>
                <div id="keywordCloud" class="keyword-cloud"></div>
              </div>

              <!-- Export Actions -->
              <div class="export-section">
                <button class="btn btn-secondary btn-sm" onclick="exportResult('json')">
                  üìÑ Export JSON
                </button>
                <button class="btn btn-secondary btn-sm" onclick="exportResult('csv')">
                  üìä Export CSV
                </button>
                <button class="btn btn-secondary btn-sm" onclick="shareResult()">
                  üîó Share Result
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- BATCH ANALYSIS TAB -->
      <div class="tab-content" data-content="batch">
        <div class="batch-container">
          <div class="analyzer-card">
            <h2 style="font-size: 28px; margin-bottom: 12px;">Batch Review Analysis</h2>
            <p style="color: var(--text-secondary); margin-bottom: 32px;">
              Analyze multiple reviews at once. Paste reviews separated by line breaks or upload a file.
            </p>

            <div class="form-group">
              <label class="form-label">
                <span>üìù</span>
                <span>Batch Reviews (one per line)</span>
              </label>
              <textarea 
                id="batchReviews" 
                class="form-input" 
                placeholder="Paste multiple reviews here, one per line..."
                style="min-height: 200px;"
              ></textarea>
              <p class="form-hint">
                Each line will be treated as a separate review.
              </p>
            </div>

            <div class="quick-actions">
              <button class="quick-btn" onclick="loadBatchExample()">
                üìã Load Example Batch
              </button>
              <button class="quick-btn" onclick="clearBatchForm()">
                üóëÔ∏è Clear All
              </button>
            </div>

            <button class="btn btn-primary" onclick="analyzeBatch()" style="width: 100%; padding: 20px; font-size: 18px; margin-top: 20px;">
              üöÄ Analyze All Reviews
            </button>

            <!-- Batch Loading -->
            <div id="batchLoadingOverlay" class="loading-overlay">
              <div class="spinner"></div>
              <p class="loading-text">Analyzing <span id="batchProgress">0</span> reviews...</p>
            </div>

            <!-- Batch Results -->
            <div id="batchResults" style="margin-top: 40px; display: none;">
              <h3 style="font-size: 24px; margin-bottom: 20px; display: flex; align-items: center; gap: 10px;">
                <span>üìä</span>
                <span>Batch Analysis Results</span>
              </h3>
              
              <div class="stats-grid" style="margin-bottom: 24px;">
                <div class="stat-card">
                  <div class="stat-icon">üìã</div>
                  <span class="stat-number" id="batchTotal">0</span>
                  <div class="stat-label">Total Analyzed</div>
                </div>
                <div class="stat-card">
                  <div class="stat-icon">üö®</div>
                  <span class="stat-number" id="batchFake">0</span>
                  <div class="stat-label">Fake Detected</div>
                </div>
                <div class="stat-card">
                  <div class="stat-icon">‚úÖ</div>
                  <span class="stat-number" id="batchLegit">0</span>
                  <div class="stat-label">Legitimate</div>
                </div>
                <div class="stat-card">
                  <div class="stat-icon">üìà</div>
                  <span class="stat-number" id="batchFakePercent">0</span>
                  <div class="stat-label">% Fake</div>
                </div>
              </div>

              <div id="batchReviewsList" class="batch-reviews-list"></div>

              <div class="export-section" style="margin-top: 24px;">
                <button class="btn btn-primary btn-sm" onclick="exportBatchResults('csv')">
                  üìä Export CSV Report
                </button>
                <button class="btn btn-secondary btn-sm" onclick="exportBatchResults('json')">
                  üìÑ Export JSON
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- ANALYTICS DASHBOARD TAB -->
      <div class="tab-content" data-content="analytics">
        <div class="analyzer-card" style="margin-bottom: 24px;">
          <h2 style="font-size: 28px; margin-bottom: 12px;">Analytics Dashboard</h2>
          <p style="color: var(--text-secondary); margin-bottom: 20px;">
            Visual insights into your review analysis history and patterns.
          </p>
        </div>

        <div class="dashboard-grid">
          <!-- Detection Rate Chart -->
          <div class="chart-card">
            <div class="chart-header">
              <h3 class="chart-title">
                <span>üìä</span>
                <span>Detection Rate</span>
              </h3>
              <p class="chart-subtitle">Fake vs Legitimate reviews</p>
            </div>
            <div class="chart-container">
              <canvas id="detectionChart"></canvas>
            </div>
          </div>

          <!-- Confidence Distribution -->
          <div class="chart-card">
            <div class="chart-header">
              <h3 class="chart-title">
                <span>üìà</span>
                <span>Confidence Scores</span>
              </h3>
              <p class="chart-subtitle">Distribution of confidence levels</p>
            </div>
            <div class="chart-container">
              <canvas id="confidenceChart"></canvas>
            </div>
          </div>

          <!-- Analysis Timeline -->
          <div class="chart-card" style="grid-column: span 2;">
            <div class="chart-header">
              <h3 class="chart-title">
                <span>üìÖ</span>
                <span>Analysis Timeline</span>
              </h3>
              <p class="chart-subtitle">Reviews analyzed over time</p>
            </div>
            <div class="chart-container">
              <canvas id="timelineChart"></canvas>
            </div>
          </div>
        </div>
      </div>

      <!-- HISTORY TAB -->
      <div class="tab-content" data-content="history">
        <div class="history-section">
          <div class="history-header">
            <h3 class="history-title">
              <span>üìú</span>
              <span>Analysis History</span>
            </h3>
            <div class="history-actions">
              <input 
                type="text" 
                class="history-search" 
                id="historySearch" 
                placeholder="üîç Search history..."
                oninput="searchHistory()"
              >
              <button class="btn btn-secondary btn-sm" onclick="clearHistory()">
                üóëÔ∏è Clear All
              </button>
            </div>
          </div>
          <div id="historyList" class="history-list">
            <div class="history-empty">
              <p>üì≠ No analysis history yet.<br>Start analyzing reviews to build your history!</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- FOOTER -->
  <footer>
    <div class="footer-container">
      <div class="footer-brand">ReviewGuard Ultra</div>
      <p class="footer-text">
        Next-generation AI-powered fake review detection platform<br>
        Built with Machine Learning ‚Ä¢ Chart.js ‚Ä¢ scikit-learn
      </p>
      <div class="footer-links">
        <a href="https://github.com/iamlakshyamittal/ReviewGuard" target="_blank" class="footer-link">GitHub</a>
        <a href="#" class="footer-link">Documentation</a>
        <a href="#" class="footer-link">API</a>
        <a href="#" class="footer-link">Privacy</a>
      </div>
      <p class="footer-copyright">
        ¬© 2024 ReviewGuard Ultra. Powered by AI for authenticity.
      </p>
    </div>
  </footer>

  <!-- Floating Action Button -->
  <button class="fab" onclick="scrollToTop()" title="Back to top">
    ‚Üë
  </button>

  <script>
    // ==================== GLOBAL STATE ====================
    let currentResult = null;
    let batchResults = [];
    let charts = {};

    // ==================== THEME MANAGEMENT ====================
    const themeToggle = document.getElementById('themeToggle');
    const themeIcon = document.getElementById('themeIcon');
    const html = document.documentElement;

    let currentTheme = localStorage.getItem('theme') || 'light';
    html.setAttribute('data-theme', currentTheme);
    themeIcon.textContent = currentTheme === 'dark' ? '‚òÄÔ∏è' : 'üåô';

    themeToggle.addEventListener('click', () => {
      currentTheme = currentTheme === 'dark' ? 'light' : 'dark';
      html.setAttribute('data-theme', currentTheme);
      localStorage.setItem('theme', currentTheme);
      themeIcon.textContent = currentTheme === 'dark' ? '‚òÄÔ∏è' : 'üåô';
      
      // Recreate charts with new theme
      if (document.querySelector('[data-content="analytics"]').classList.contains('active')) {
        setTimeout(() => initCharts(), 100);
      }
    });

    // ==================== TOAST NOTIFICATIONS ====================
    function showToast(title, message, type = 'info') {
      const container = document.getElementById('toastContainer');
      const toast = document.createElement('div');
      toast.className = `toast ${type}`;
      
      const icons = {
        success: '‚úÖ',
        error: '‚ùå',
        warning: '‚ö†Ô∏è',
        info: '‚ÑπÔ∏è'
      };
      
      toast.innerHTML = `
        <div class="toast-icon">${icons[type]}</div>
        <div class="toast-content">
          <div class="toast-title">${title}</div>
          <div class="toast-message">${message}</div>
        </div>
        <button class="toast-close" onclick="this.parentElement.remove()">√ó</button>
      `;
      
      container.appendChild(toast);
      
      setTimeout(() => {
        toast.style.animation = 'slideInRight 0.4s reverse';
        setTimeout(() => toast.remove(), 400);
      }, 5000);
    }

    // ==================== CONFETTI ANIMATION ====================
    function throwConfetti() {
      const colors = ['#667eea', '#764ba2', '#f093fb', '#4facfe', '#10b981'];
      const confettiCount = 50;
      
      for (let i = 0; i < confettiCount; i++) {
        const confetti = document.createElement('div');
        confetti.className = 'confetti';
        confetti.style.left = Math.random() * 100 + 'vw';
        confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
        confetti.style.animationDuration = (Math.random() * 3 + 2) + 's';
        confetti.style.animationDelay = (Math.random() * 0.5) + 's';
        confetti.style.animation = 'confetti-fall linear forwards';
        
        document.body.appendChild(confetti);
        
        setTimeout(() => confetti.remove(), 5000);
      }
    }

    // ==================== NAVBAR SCROLL ====================
    const navbar = document.querySelector('.navbar');
    window.addEventListener('scroll', () => {
      if (window.scrollY > 50) {
        navbar.classList.add('scrolled');
      } else {
        navbar.classList.remove('scrolled');
      }
    });

    // ==================== TAB MANAGEMENT ====================
    const tabButtons = document.querySelectorAll('.tab-button');
    tabButtons.forEach(button => {
      button.addEventListener('click', () => {
        const tabName = button.getAttribute('data-tab');
        switchTab(tabName);
      });
    });

    function switchTab(tabName) {
      // Update buttons
      tabButtons.forEach(btn => btn.classList.remove('active'));
      document.querySelector(`[data-tab="${tabName}"]`).classList.add('active');
      
      // Update content
      document.querySelectorAll('.tab-content').forEach(content => {
        content.classList.remove('active');
      });
      document.querySelector(`[data-content="${tabName}"]`).classList.add('active');
      
      // Update nav links
      document.querySelectorAll('.nav-link').forEach(link => link.classList.remove('active'));
      
      // Initialize charts if analytics tab
      if (tabName === 'analytics') {
        setTimeout(() => initCharts(), 100);
      }
      
      showToast('Navigation', `Switched to ${tabName} mode`, 'info');
    }

    // ==================== STATISTICS ====================
    let stats = JSON.parse(localStorage.getItem('reviewguard_stats') || '{"total":0,"fake":0,"legit":0}');
    
    function updateStatsDisplay() {
      animateValue('totalReviews', 0, stats.total, 2000);
      animateValue('fakeCount', 0, stats.fake, 2000);
      animateValue('legitCount', 0, stats.legit, 2000);
    }

    function animateValue(id, start, end, duration) {
      const element = document.getElementById(id);
      if (!element) return;
      
      const range = end - start;
      const increment = end > start ? 1 : -1;
      const stepTime = Math.abs(Math.floor(duration / range));
      let current = start;

      const timer = setInterval(() => {
        current += increment;
        element.textContent = current;
        if (current === end) {
          clearInterval(timer);
        }
      }, stepTime);
    }

    function updateStats(isFake) {
      stats.total++;
      if (isFake) {
        stats.fake++;
      } else {
        stats.legit++;
      }
      localStorage.setItem('reviewguard_stats', JSON.stringify(stats));
      updateStatsDisplay();
    }

    updateStatsDisplay();

    // ==================== ADVANCED OPTIONS ====================
    function toggleAdvanced() {
      const content = document.getElementById('advancedOptions');
      const text = document.getElementById('advancedToggleText');
      
      if (content.classList.contains('show')) {
        content.classList.remove('show');
        text.textContent = 'Show Advanced Options';
      } else {
        content.classList.add('show');
        text.textContent = 'Hide Advanced Options';
      }
    }

    // ==================== EXAMPLES ====================
    function loadExample(type) {
      const examples = {
        suspicious: {
          text: "AMAZING PRODUCT!!! This is the BEST thing I've ever bought in my ENTIRE LIFE!!! Everyone MUST buy this NOW!!! Don't even think twice! 100% recommend! Five stars all the way! You won't regret it! ORDER NOW!!! This changed my life FOREVER!!!",
          rating: 5,
          totalReviews: 12,
          avgRating: 4.9
        },
        legit: {
          text: "I purchased this product last month and have been using it regularly. The build quality is solid and it works as described in the listing. Setup was straightforward, though the instructions could be clearer. The price point is reasonable for what you get. Overall, I'm satisfied with my purchase and would recommend it to others looking for a reliable option in this category.",
          rating: 4,
          totalReviews: 47,
          avgRating: 3.8
        }
      };

      const example = examples[type];
      document.getElementById('reviewText').value = example.text;
      document.getElementById('rating').value = example.rating;
      document.getElementById('totalReviewsInput').value = example.totalReviews;
      document.getElementById('avgRating').value = example.avgRating;

      document.getElementById('advancedOptions').classList.add('show');
      document.getElementById('advancedToggleText').textContent = 'Hide Advanced Options';

      hideResults();
      showToast('Example Loaded', `${type} review example loaded`, 'success');
    }

    function clearForm() {
      document.getElementById('reviewText').value = '';
      document.getElementById('rating').value = 3;
      document.getElementById('totalReviewsInput').value = 1;
      document.getElementById('avgRating').value = 4.0;
      hideResults();
      showToast('Form Cleared', 'All fields have been reset', 'info');
    }

    function hideResults() {
      document.getElementById('resultContainer').classList.remove('show');
    }

    // ==================== ANALYSIS ====================
    async function analyzeReview() {
      const reviewText = document.getElementById('reviewText').value.trim();
      const rating = Number(document.getElementById('rating').value);
      const totalReviews = Number(document.getElementById('totalReviewsInput').value);
      const avgRating = Number(document.getElementById('avgRating').value);

      if (!reviewText) {
        showToast('Error', 'Please enter a review text', 'error');
        return;
      }

      if (reviewText.length < 10) {
        showToast('Error', 'Review text is too short (min 10 characters)', 'error');
        return;
      }

      if (rating < 1 || rating > 5) {
        showToast('Error', 'Rating must be between 1 and 5', 'error');
        return;
      }

      hideResults();

      const loadingOverlay = document.getElementById('loadingOverlay');
      loadingOverlay.classList.add('show');

      try {
        const response = await fetch('http://127.0.0.1:5000/predict', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify({
            review_text: reviewText,
            rating: rating,
            reviewer_total_reviews: totalReviews,
            reviewer_avg_rating: avgRating
          })
        });

        loadingOverlay.classList.remove('show');

        if (!response.ok) {
          throw new Error(`API Error: ${response.status}`);
        }

        const data = await response.json();
        currentResult = { ...data, reviewText };
        displayResults(data, reviewText);
        updateStats(data.is_fake);
        addToHistory(reviewText, data);

        if (!data.is_fake) {
          throwConfetti();
        }

        showToast(
          'Analysis Complete',
          data.is_fake ? 'Fake review detected!' : 'Review looks legitimate',
          data.is_fake ? 'warning' : 'success'
        );

      } catch (error) {
        loadingOverlay.classList.remove('show');
        showToast(
          'Connection Error',
          'Make sure the Flask server is running on http://127.0.0.1:5000',
          'error'
        );
        console.error('Error:', error);
      }
    }

    // ==================== DISPLAY RESULTS ====================
    function displayResults(data, reviewText) {
      const resultContainer = document.getElementById('resultContainer');
      const resultBox = document.getElementById('resultBox');
      const resultIcon = document.getElementById('resultIcon');
      const resultTitle = document.getElementById('resultTitle');
      const resultSubtitle = document.getElementById('resultSubtitle');
      const confidenceValue = document.getElementById('confidenceValue');
      const confidenceFill = document.getElementById('confidenceFill');
      const riskBadge = document.getElementById('riskBadge');
      const fakeProbability = document.getElementById('fakeProbability');
      const legitProbability = document.getElementById('legitProbability');

      confidenceFill.style.width = '0%';
      resultContainer.classList.add('show');

      const isFake = data.is_fake;
      if (isFake) {
        resultBox.className = 'result-box fake';
        resultIcon.textContent = 'üö®';
        resultTitle.textContent = 'Fake Review Detected';
        resultSubtitle.textContent = 'This review shows suspicious patterns';
      } else {
        resultBox.className = 'result-box legit';
        resultIcon.textContent = '‚úÖ';
        resultTitle.textContent = 'Review Looks Legitimate';
        resultSubtitle.textContent = 'This review appears authentic';
      }

      const confidence = Math.round(data.confidence * 100);
      animateValue('confidenceValue', 0, confidence, 1500);

      setTimeout(() => {
        confidenceFill.style.width = confidence + '%';
      }, 100);

      const riskLevel = data.risk_level.toLowerCase();
      riskBadge.className = `risk-badge risk-${riskLevel}`;
      riskBadge.textContent = `${data.risk_level} RISK`;

      fakeProbability.textContent = Math.round(data.fake_probability * 100) + '%';
      legitProbability.textContent = Math.round(data.legitimate_probability * 100) + '%';

      generateInsights(data, reviewText);
      generateKeywords(reviewText, isFake);

      setTimeout(() => {
        resultBox.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
      }, 200);
    }

    // ==================== GENERATE INSIGHTS ====================
    function generateInsights(data, reviewText) {
      const insightsList = document.getElementById('insightsList');
      const insights = [];

      const confidence = Math.round(data.confidence * 100);
      
      if (data.is_fake) {
        if (confidence > 80) {
          insights.push({
            icon: 'üéØ',
            text: 'High confidence fake review detection based on multiple suspicious patterns.'
          });
        }
        
        if (reviewText.includes('!!!') || reviewText.includes('MUST') || reviewText.includes('BEST')) {
          insights.push({
            icon: '‚ö†Ô∏è',
            text: 'Excessive use of capital letters and exclamation marks detected.'
          });
        }
        
        if (reviewText.length < 50) {
          insights.push({
            icon: 'üìè',
            text: 'Very short review with limited detail.'
          });
        }

        insights.push({
          icon: 'üîç',
          text: 'Language patterns match known fake review characteristics.'
        });

      } else {
        if (confidence > 80) {
          insights.push({
            icon: '‚ú®',
            text: 'High confidence legitimate review based on natural language patterns.'
          });
        }

        insights.push({
          icon: 'üí¨',
          text: 'Review shows balanced sentiment and specific details.'
        });

        insights.push({
          icon: 'üéØ',
          text: 'No suspicious patterns or manipulation tactics detected.'
        });
      }

      insightsList.innerHTML = insights.map(insight => `
        <div class="insight-item">
          <span class="insight-icon">${insight.icon}</span>
          <span class="insight-text">${insight.text}</span>
        </div>
      `).join('');
    }

    // ==================== GENERATE KEYWORDS ====================
    function generateKeywords(reviewText, isFake) {
      const keywordCloud = document.getElementById('keywordCloud');
      const suspiciousKeywords = ['AMAZING', 'BEST', 'MUST', '!!!', 'ORDER', 'NOW', 'LIFE', 'FOREVER'];
      const legitKeywords = ['purchased', 'quality', 'satisfied', 'recommend', 'reasonable'];
      
      const foundKeywords = [];
      const text = reviewText.toUpperCase();
      
      suspiciousKeywords.forEach(keyword => {
        if (text.includes(keyword)) {
          foundKeywords.push({ text: keyword, type: 'suspicious' });
        }
      });
      
      legitKeywords.forEach(keyword => {
        if (reviewText.toLowerCase().includes(keyword.toLowerCase())) {
          foundKeywords.push({ text: keyword, type: 'legit' });
        }
      });
      
      if (foundKeywords.length === 0) {
        keywordCloud.innerHTML = '<p style="color: var(--text-secondary); font-size: 14px;">No significant patterns detected</p>';
        return;
      }
      
      keywordCloud.innerHTML = foundKeywords.map(kw => 
        `<span class="keyword-tag ${kw.type === 'legit' ? 'legit' : ''}">${kw.text}</span>`
      ).join('');
    }

    // ==================== EXPORT FUNCTIONALITY ====================
    function exportResult(format) {
      if (!currentResult) {
        showToast('Error', 'No results to export', 'error');
        return;
      }

      const data = {
        reviewText: currentResult.reviewText,
        isFake: currentResult.is_fake,
        confidence: Math.round(currentResult.confidence * 100),
        riskLevel: currentResult.risk_level,
        fakeProbability: Math.round(currentResult.fake_probability * 100),
        legitProbability: Math.round(currentResult.legitimate_probability * 100),
        timestamp: new Date().toISOString()
      };

      if (format === 'json') {
        const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
        downloadFile(blob, `review-analysis-${Date.now()}.json`);
      } else if (format === 'csv') {
        const csv = `Review Text,Is Fake,Confidence,Risk Level,Fake Probability,Legit Probability,Timestamp\n"${data.reviewText}",${data.isFake},${data.confidence}%,${data.riskLevel},${data.fakeProbability}%,${data.legitProbability}%,${data.timestamp}`;
        const blob = new Blob([csv], { type: 'text/csv' });
        downloadFile(blob, `review-analysis-${Date.now()}.csv`);
      }

      showToast('Export Complete', `Results exported as ${format.toUpperCase()}`, 'success');
    }

    function downloadFile(blob, filename) {
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = filename;
      document.body.appendChild(a);
      a.click();
      document.body.removeChild(a);
      URL.revokeObjectURL(url);
    }

    function shareResult() {
      if (!currentResult) {
        showToast('Error', 'No results to share', 'error');
        return;
      }

      const text = `ReviewGuard Analysis: ${currentResult.is_fake ? 'Fake' : 'Legitimate'} review detected with ${Math.round(currentResult.confidence * 100)}% confidence`;
      
      if (navigator.share) {
        navigator.share({
          title: 'ReviewGuard Analysis',
          text: text
        }).then(() => {
          showToast('Shared', 'Result shared successfully', 'success');
        }).catch(() => {});
      } else {
        navigator.clipboard.writeText(text);
        showToast('Copied', 'Result copied to clipboard', 'success');
      }
    }

    // ==================== BATCH ANALYSIS ====================
    function loadBatchExample() {
      const examples = [
        "AMAZING product! BEST purchase ever! BUY NOW!!!",
        "Good quality product. Works as described. Happy with purchase.",
        "MUST HAVE item! Changed my LIFE!!! ORDER TODAY!!!",
        "Decent product for the price. Some minor issues but overall satisfied.",
        "Absolute PERFECTION! Five stars! HIGHLY recommend!!!"
      ];
      
      document.getElementById('batchReviews').value = examples.join('\n');
      showToast('Example Loaded', '5 sample reviews loaded', 'success');
    }

    function clearBatchForm() {
      document.getElementById('batchReviews').value = '';
      document.getElementById('batchResults').style.display = 'none';
      showToast('Form Cleared', 'Batch form reset', 'info');
    }

    async function analyzeBatch() {
      const batchText = document.getElementById('batchReviews').value.trim();
      if (!batchText) {
        showToast('Error', 'Please enter reviews to analyze', 'error');
        return;
      }

      const reviews = batchText.split('\n').filter(r => r.trim().length > 10);
      if (reviews.length === 0) {
        showToast('Error', 'No valid reviews found', 'error');
        return;
      }

      const loadingOverlay = document.getElementById('batchLoadingOverlay');
      const progressSpan = document.getElementById('batchProgress');
      loadingOverlay.classList.add('show');

      batchResults = [];
      let fakeCount = 0;

      for (let i = 0; i < reviews.length; i++) {
        progressSpan.textContent = i + 1;
        
        try {
          const response = await fetch('http://127.0.0.1:5000/predict', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({
              review_text: reviews[i],
              rating: 3,
              reviewer_total_reviews: 1,
              reviewer_avg_rating: 4.0
            })
          });

          if (response.ok) {
            const data = await response.json();
            batchResults.push({
              text: reviews[i],
              isFake: data.is_fake,
              confidence: Math.round(data.confidence * 100)
            });
            if (data.is_fake) fakeCount++;
            updateStats(data.is_fake);
          }
        } catch (error) {
          console.error('Batch analysis error:', error);
        }

        await new Promise(resolve => setTimeout(resolve, 500));
      }

      loadingOverlay.classList.remove('show');
      displayBatchResults();
      showToast('Batch Complete', `Analyzed ${reviews.length} reviews`, 'success');
    }

    function displayBatchResults() {
      document.getElementById('batchResults').style.display = 'block';
      
      const total = batchResults.length;
      const fake = batchResults.filter(r => r.isFake).length;
      const legit = total - fake;
      const fakePercent = Math.round((fake / total) * 100);

      document.getElementById('batchTotal').textContent = total;
      document.getElementById('batchFake').textContent = fake;
      document.getElementById('batchLegit').textContent = legit;
      document.getElementById('batchFakePercent').textContent = fakePercent;

      const listHtml = batchResults.map(result => `
        <div class="batch-review-item">
          <div class="batch-review-status">${result.isFake ? 'üö®' : '‚úÖ'}</div>
          <div class="batch-review-text">${result.text}</div>
          <div style="font-size: 13px; color: var(--text-secondary); min-width: 80px; text-align: right;">
            ${result.confidence}% conf
          </div>
        </div>
      `).join('');

      document.getElementById('batchReviewsList').innerHTML = listHtml;

      setTimeout(() => {
        document.getElementById('batchResults').scrollIntoView({ behavior: 'smooth', block: 'start' });
      }, 200);
    }

    function exportBatchResults(format) {
      if (batchResults.length === 0) {
        showToast('Error', 'No batch results to export', 'error');
        return;
      }

      if (format === 'csv') {
        let csv = 'Review Text,Result,Confidence\n';
        batchResults.forEach(r => {
          csv += `"${r.text}",${r.isFake ? 'Fake' : 'Legitimate'},${r.confidence}%\n`;
        });
        const blob = new Blob([csv], { type: 'text/csv' });
        downloadFile(blob, `batch-analysis-${Date.now()}.csv`);
      } else if (format === 'json') {
        const blob = new Blob([JSON.stringify(batchResults, null, 2)], { type: 'application/json' });
        downloadFile(blob, `batch-analysis-${Date.now()}.json`);
      }

      showToast('Export Complete', 'Batch results exported', 'success');
    }

    // ==================== CHARTS ====================
    function initCharts() {
      // Destroy existing charts
      Object.values(charts).forEach(chart => {
        if (chart) chart.destroy();
      });

      const isDark = currentTheme === 'dark';
      const textColor = isDark ? '#e9ecef' : '#1a1a2e';
      const gridColor = isDark ? 'rgba(255, 255, 255, 0.1)' : 'rgba(0, 0, 0, 0.1)';

      Chart.defaults.color = textColor;
      Chart.defaults.borderColor = gridColor;

      // Detection Rate Chart
      const detectionCtx = document.getElementById('detectionChart');
      if (detectionCtx) {
        charts.detection = new Chart(detectionCtx, {
          type: 'doughnut',
          data: {
            labels: ['Fake', 'Legitimate'],
            datasets: [{
              data: [stats.fake, stats.legit],
              backgroundColor: [
                'rgba(239, 68, 68, 0.8)',
                'rgba(16, 185, 129, 0.8)'
              ],
              borderWidth: 0
            }]
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
              legend: {
                position: 'bottom'
              }
            }
          }
        });
      }

      // Confidence Distribution
      const confidenceCtx = document.getElementById('confidenceChart');
      if (confidenceCtx) {
        charts.confidence = new Chart(confidenceCtx, {
          type: 'bar',
          data: {
            labels: ['0-20%', '21-40%', '41-60%', '61-80%', '81-100%'],
            datasets: [{
              label: 'Reviews',
              data: [2, 5, 8, 15, 25],
              backgroundColor: 'rgba(102, 126, 234, 0.8)',
              borderRadius: 8
            }]
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
              legend: {
                display: false
              }
            },
            scales: {
              y: {
                beginAtZero: true,
                grid: {
                  color: gridColor
                }
              },
              x: {
                grid: {
                  display: false
                }
              }
            }
          }
        });
      }

      // Timeline Chart
      const timelineCtx = document.getElementById('timelineChart');
      if (timelineCtx) {
        charts.timeline = new Chart(timelineCtx, {
          type: 'line',
          data: {
            labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
            datasets: [{
              label: 'Reviews Analyzed',
              data: [12, 19, 15, 25, 22, 30, 28],
              borderColor: 'rgba(102, 126, 234, 1)',
              backgroundColor: 'rgba(102, 126, 234, 0.1)',
              tension: 0.4,
              fill: true
            }]
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
              legend: {
                display: false
              }
            },
            scales: {
              y: {
                beginAtZero: true,
                grid: {
                  color: gridColor
                }
              },
              x: {
                grid: {
                  display: false
                }
              }
            }
          }
        });
      }
    }

    // ==================== HISTORY MANAGEMENT ====================
    function addToHistory(reviewText, data) {
      let history = JSON.parse(localStorage.getItem('reviewguard_history') || '[]');
      
      const entry = {
        id: Date.now(),
        text: reviewText.substring(0, 100) + (reviewText.length > 100 ? '...' : ''),
        isFake: data.is_fake,
        confidence: Math.round(data.confidence * 100),
        timestamp: new Date().toLocaleString()
      };

      history.unshift(entry);
      
      if (history.length > 50) {
        history = history.slice(0, 50);
      }

      localStorage.setItem('reviewguard_history', JSON.stringify(history));
      renderHistory();
    }

    function renderHistory(searchTerm = '') {
      const historyList = document.getElementById('historyList');
      let history = JSON.parse(localStorage.getItem('reviewguard_history') || '[]');

      if (searchTerm) {
        history = history.filter(entry => 
          entry.text.toLowerCase().includes(searchTerm.toLowerCase())
        );
      }

      if (history.length === 0) {
        historyList.innerHTML = `
          <div class="history-empty">
            <p>üì≠ ${searchTerm ? 'No matching results found.' : 'No analysis history yet.'}<br>
            ${searchTerm ? '' : 'Start analyzing reviews to build your history!'}</p>
          </div>
        `;
        return;
      }

      historyList.innerHTML = history.map(entry => `
        <div class="history-item">
          <div class="history-icon">${entry.isFake ? 'üö®' : '‚úÖ'}</div>
          <div class="history-content">
            <div class="history-text">${entry.text}</div>
            <div class="history-meta">
              <span>${entry.isFake ? 'Fake' : 'Legitimate'}</span>
              <span>‚Ä¢</span>
              <span>${entry.confidence}% confidence</span>
              <span>‚Ä¢</span>
              <span>${entry.timestamp}</span>
            </div>
          </div>
        </div>
      `).join('');
    }

    function searchHistory() {
      const searchTerm = document.getElementById('historySearch').value;
      renderHistory(searchTerm);
    }

    function clearHistory() {
      if (confirm('Are you sure you want to clear your analysis history?')) {
        localStorage.removeItem('reviewguard_history');
        renderHistory();
        showToast('History Cleared', 'All analysis history has been removed', 'info');
      }
    }

    renderHistory();

    // ==================== UTILITY FUNCTIONS ====================
    function scrollToTop() {
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function scrollToAnalyzer() {
      document.querySelector('.tabs-container').scrollIntoView({ behavior: 'smooth' });
    }

    // Keyboard shortcut
    document.getElementById('reviewText')?.addEventListener('keydown', (e) => {
      if (e.ctrlKey && e.key === 'Enter') {
        analyzeReview();
      }
    });

    // Initialize
    showToast('Welcome', 'ReviewGuard Ultra loaded successfully', 'success');
  </script>

</body>
</html>